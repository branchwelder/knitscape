(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const Qi="modulepreload",Ni=function(t){return"/knitscape/"+t},We={},S=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Ni(s),s in We)return;We[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!i)for(let h=r.length-1;h>=0;h--){const u=r[h];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Qi,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ce;const Wt=window,At=Wt.trustedTypes,Ze=At?At.createPolicy("lit-html",{createHTML:t=>t}):void 0,ge="$lit$",j=`lit$${(Math.random()+"").slice(9)}$`,Bn="?"+j,Mi=`<${Bn}>`,ot=document,Bt=()=>ot.createComment(""),Rt=t=>t===null||typeof t!="object"&&typeof t!="function",Rn=Array.isArray,ki=t=>Rn(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",he=`[ 	
\f\r]`,mt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ge=/-->/g,Ke=/>/g,tt=RegExp(`>|${he}(?:([^\\s"'>=/]+)(${he}*=${he}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),qe=/'/g,je=/"/g,Qn=/^(?:script|style|textarea|title)$/i,Li=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),X=Li(1),Z=Symbol.for("lit-noChange"),B=Symbol.for("lit-nothing"),Je=new WeakMap,nt=ot.createTreeWalker(ot,129,null,!1);function Nn(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ze!==void 0?Ze.createHTML(e):e}const Si=(t,e)=>{const n=t.length-1,i=[];let r,s=e===2?"<svg>":"",o=mt;for(let l=0;l<n;l++){const a=t[l];let c,h,u=-1,f=0;for(;f<a.length&&(o.lastIndex=f,h=o.exec(a),h!==null);)f=o.lastIndex,o===mt?h[1]==="!--"?o=Ge:h[1]!==void 0?o=Ke:h[2]!==void 0?(Qn.test(h[2])&&(r=RegExp("</"+h[2],"g")),o=tt):h[3]!==void 0&&(o=tt):o===tt?h[0]===">"?(o=r??mt,u=-1):h[1]===void 0?u=-2:(u=o.lastIndex-h[2].length,c=h[1],o=h[3]===void 0?tt:h[3]==='"'?je:qe):o===je||o===qe?o=tt:o===Ge||o===Ke?o=mt:(o=tt,r=void 0);const g=o===tt&&t[l+1].startsWith("/>")?" ":"";s+=o===mt?a+Mi:u>=0?(i.push(c),a.slice(0,u)+ge+a.slice(u)+j+g):a+j+(u===-2?(i.push(void 0),l):g)}return[Nn(t,s+(t[n]||"<?>")+(e===2?"</svg>":"")),i]};class Qt{constructor({strings:e,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const l=e.length-1,a=this.parts,[c,h]=Si(e,n);if(this.el=Qt.createElement(c,i),nt.currentNode=this.el.content,n===2){const u=this.el.content,f=u.firstChild;f.remove(),u.append(...f.childNodes)}for(;(r=nt.nextNode())!==null&&a.length<l;){if(r.nodeType===1){if(r.hasAttributes()){const u=[];for(const f of r.getAttributeNames())if(f.endsWith(ge)||f.startsWith(j)){const g=h[o++];if(u.push(f),g!==void 0){const m=r.getAttribute(g.toLowerCase()+ge).split(j),A=/([.?@])?(.*)/.exec(g);a.push({type:1,index:s,name:A[2],strings:m,ctor:A[1]==="."?Hi:A[1]==="?"?Vi:A[1]==="@"?Xi:ne})}else a.push({type:6,index:s})}for(const f of u)r.removeAttribute(f)}if(Qn.test(r.tagName)){const u=r.textContent.split(j),f=u.length-1;if(f>0){r.textContent=At?At.emptyScript:"";for(let g=0;g<f;g++)r.append(u[g],Bt()),nt.nextNode(),a.push({type:2,index:++s});r.append(u[f],Bt())}}}else if(r.nodeType===8)if(r.data===Bn)a.push({type:2,index:s});else{let u=-1;for(;(u=r.data.indexOf(j,u+1))!==-1;)a.push({type:7,index:s}),u+=j.length-1}s++}}static createElement(e,n){const i=ot.createElement("template");return i.innerHTML=e,i}}function gt(t,e,n=t,i){var r,s,o,l;if(e===Z)return e;let a=i!==void 0?(r=n._$Co)===null||r===void 0?void 0:r[i]:n._$Cl;const c=Rt(e)?void 0:e._$litDirective$;return(a==null?void 0:a.constructor)!==c&&((s=a==null?void 0:a._$AO)===null||s===void 0||s.call(a,!1),c===void 0?a=void 0:(a=new c(t),a._$AT(t,n,i)),i!==void 0?((o=(l=n)._$Co)!==null&&o!==void 0?o:l._$Co=[])[i]=a:n._$Cl=a),a!==void 0&&(e=gt(t,a._$AS(t,e.values),a,i)),e}class Ti{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var n;const{el:{content:i},parts:r}=this._$AD,s=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ot).importNode(i,!0);nt.currentNode=s;let o=nt.nextNode(),l=0,a=0,c=r[0];for(;c!==void 0;){if(l===c.index){let h;c.type===2?h=new Tt(o,o.nextSibling,this,e):c.type===1?h=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(h=new Fi(o,this,e)),this._$AV.push(h),c=r[++a]}l!==(c==null?void 0:c.index)&&(o=nt.nextNode(),l++)}return nt.currentNode=ot,s}v(e){let n=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,n),n+=i.strings.length-2):i._$AI(e[n])),n++}}class Tt{constructor(e,n,i,r){var s;this.type=2,this._$AH=B,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=r,this._$Cp=(s=r==null?void 0:r.isConnected)===null||s===void 0||s}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=gt(this,e,n),Rt(e)?e===B||e==null||e===""?(this._$AH!==B&&this._$AR(),this._$AH=B):e!==this._$AH&&e!==Z&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):ki(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==B&&Rt(this._$AH)?this._$AA.nextSibling.data=e:this.$(ot.createTextNode(e)),this._$AH=e}g(e){var n;const{values:i,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Qt.createElement(Nn(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===s)this._$AH.v(i);else{const o=new Ti(s,this),l=o.u(this.options);o.v(i),this.$(l),this._$AH=o}}_$AC(e){let n=Je.get(e.strings);return n===void 0&&Je.set(e.strings,n=new Qt(e)),n}T(e){Rn(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of e)r===n.length?n.push(i=new Tt(this.k(Bt()),this.k(Bt()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(e=this._$AA.nextSibling,n){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,n);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}class ne{constructor(e,n,i,r,s){this.type=1,this._$AH=B,this._$AN=void 0,this.element=e,this.name=n,this._$AM=r,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=B}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,i,r){const s=this.strings;let o=!1;if(s===void 0)e=gt(this,e,n,0),o=!Rt(e)||e!==this._$AH&&e!==Z,o&&(this._$AH=e);else{const l=e;let a,c;for(e=s[0],a=0;a<s.length-1;a++)c=gt(this,l[i+a],n,a),c===Z&&(c=this._$AH[a]),o||(o=!Rt(c)||c!==this._$AH[a]),c===B?e=B:e!==B&&(e+=(c??"")+s[a+1]),this._$AH[a]=c}o&&!r&&this.j(e)}j(e){e===B?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Hi extends ne{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===B?void 0:e}}const Pi=At?At.emptyScript:"";class Vi extends ne{constructor(){super(...arguments),this.type=4}j(e){e&&e!==B?this.element.setAttribute(this.name,Pi):this.element.removeAttribute(this.name)}}class Xi extends ne{constructor(e,n,i,r,s){super(e,n,i,r,s),this.type=5}_$AI(e,n=this){var i;if((e=(i=gt(this,e,n,0))!==null&&i!==void 0?i:B)===Z)return;const r=this._$AH,s=e===B&&r!==B||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==B&&(r===B||s);s&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,i;typeof this._$AH=="function"?this._$AH.call((i=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&i!==void 0?i:this.element,e):this._$AH.handleEvent(e)}}class Fi{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){gt(this,e)}}const $e=Wt.litHtmlPolyfillSupport;$e==null||$e(Qt,Tt),((ce=Wt.litHtmlVersions)!==null&&ce!==void 0?ce:Wt.litHtmlVersions=[]).push("2.7.5");const lt=(t,e,n)=>{var i,r;const s=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:e;let o=s._$litPart$;if(o===void 0){const l=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:null;s._$litPart$=o=new Tt(e.insertBefore(Bt(),l),l,void 0,n??{})}return o._$AI(t),o};class C{constructor(e,n,i){this.width=e,this.height=n,this.pixels=new Uint8ClampedArray(i)}static fromJSON(e){return new C(e.width,e.height,e.pixels)}static empty(e,n,i){let r=new Array(e*n).fill(i);return new C(e,n,r)}static fromTile(e,n,i){let r=[];for(let s=0;s<n;s++)for(let o=0;o<e;o++)r.push(i.pixel(o%i.width,s%i.height));return new C(e,n,r)}toJSON(){return{pixels:Array.from(this.pixels),width:this.width,height:this.height}}pad(e,n,i){const r=Array(n*(this.width+2*e)).fill(i),s=Array(e).fill(i);let o=this.make2d();return new C(this.width+2*e,this.height+2*n,[...o.reduce((l,a)=>[...l,...s,...a,...s],[...r]),...r])}resize(e,n){let i=[];for(let r=0;r<n;r++)for(let s=0;s<e;s++)r>=this.height||s>=this.width?i.push(0):i.push(this.pixel(s,r));return new C(e,n,i)}make2d(){let e=Array.from(this.pixels).slice(),n=[];for(;e.length>0;)n.push(e.splice(0,this.width));return n}vMirror(){return new C(this.width,this.height,this.make2d().toReversed().flat())}pixel(e,n){return e>this.width-1||e<0||n>this.height-1||n<0?-1:this.pixels.at(e+n*this.width)}draw(e){let n=this.pixels.slice();for(let{x:i,y:r,color:s}of e)i<0||r<0||i>=this.width||r>=this.height||(n[i+r*this.width]=s);return new C(this.width,this.height,n)}brush({x:e,y:n},i){let r={x:e,y:n,color:i};return this.draw([r])}flood({x:e,y:n},i){const r=this.pixel(e,n);if(r===i)return this.draw([]);const s=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}];let o=[{x:e,y:n,color:i}];for(let l=0;l<o.length;l++)for(let{dx:a,dy:c}of s){let h=o[l].x+a,u=o[l].y+c;h>=0&&h<this.width&&u>=0&&u<this.height&&this.pixel(h,u)==r&&!o.some(f=>f.x==h&&f.y==u)&&o.push({x:h,y:u,color:i})}return this.draw(o)}shift(e,n){let i=[];for(let r=0;r<this.height;r++)for(let s=0;s<this.width;s++)i.push({x:(s-e%this.width+this.width)%this.width,y:(r-n%this.height+this.height)%this.height,color:this.pixel(s,r)});return this.draw(i)}rect(e,n,i){let r=Math.min(e.x,n.x),s=Math.min(e.y,n.y),o=Math.max(e.x,n.x),l=Math.max(e.y,n.y),a=[];for(let c=s;c<=l;c++)for(let h=r;h<=o;h++)a.push({x:h,y:c,color:i});return this.draw(a)}line(e,n,i){let r=[];if(Math.abs(e.x-n.x)>Math.abs(e.y-n.y)){e.x>n.x&&([e,n]=[n,e]);let s=(n.y-e.y)/(n.x-e.x);for(let{x:o,y:l}=e;o<=n.x;o++)r.push({x:o,y:Math.round(l),color:i}),l+=s}else{e.y>n.y&&([e,n]=[n,e]);let s=(n.x-e.x)/(n.y-e.y);for(let{x:o,y:l}=e;l<=n.y;l++)r.push({x:Math.round(o),y:l,color:i}),o+=s}return this.draw(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ht={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Oi=t=>(...e)=>({_$litDirective$:t,values:e});class Ui{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,i){this._$Ct=e,this._$AM=n,this._$Ci=i}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Yi=t=>t.strings===void 0,zi={},Di=(t,e=zi)=>t._$AH=e;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mn=Oi(class extends Ui{constructor(t){if(super(t),t.type!==ht.PROPERTY&&t.type!==ht.ATTRIBUTE&&t.type!==ht.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Yi(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===Z||e===B)return e;const n=t.element,i=t.name;if(t.type===ht.PROPERTY){if(e===n[i])return Z}else if(t.type===ht.BOOLEAN_ATTRIBUTE){if(!!e===n.hasAttribute(i))return Z}else if(t.type===ht.ATTRIBUTE&&n.getAttribute(i)===e+"")return Z;return Di(t),e}}),Wi=[];function Zi(t,e){return{...t,...e}}const Gi={bitmap:C.empty(10,10,0),aspectRatio:[1,1],scale:1,pan:{x:0,y:0},canvas:document.createElement("canvas"),palette:["000000","#ffffff"]};class ie{constructor({state:e,components:n=[],effects:i={}}){this.state={...Gi,...e},this.initialized=!1,this.effects=i,this.dispatch=r=>{const s=Object.keys(r);this.state=Zi(this.state,r),s.forEach(o=>{o in this.effects&&this.effects[o].forEach(l=>l(this.state))}),this.syncState(this.state,s)},this.components=Wi.concat(n.flat()).map(r=>r({state:this.state,dispatch:this.dispatch})),this.initialized=!0,this.components.forEach(r=>{"attached"in r&&r.attached(this.state)})}addEffect(e,n){this.effects[e]=[...this.effects[e]||[],n]}addComponent(e){const n=e({state:this.state,dispatch:this.dispatch});this.components.push(n),"attached"in e&&e.attached(state)}syncState(e){this.state=e,this.components.forEach(n=>{n.syncState(e)})}}function Ki({state:t},{canvas:e,setWidth:n=null,setHeight:i=null}){let{scale:r}=t,s,o;function l(a){e.width=n??a.bitmap.width*a.aspectRatio[0]*a.scale,e.height=i??a.bitmap.height*a.aspectRatio[1]*a.scale}return{attached(a){r=a.scale,s=a.bitmap.width,o=a.bitmap.height,l(a)},syncState(a){(a.bitmap.width!=s||a.bitmap.height!=o||a.scale!=r)&&(r=a.scale,s=a.bitmap.width,o=a.bitmap.height,l(a))}}}function W(t={}){return e=>Ki(e,t)}function qi(t,e,n,i,r,s,o,l){(s==null||s.width!=n.width||s.height!=n.height||l!=i||r!=o)&&(s=null);const a=t.getContext("2d");for(let c=0;c<n.height;c++)for(let h=0;h<n.width;h++){let u=n.pixel(h,c);(s==null||s.pixel(h,c)!=u)&&(a.translate(h*r,c*r),e(i[u],a,r,h,c),a.resetTransform())}}function ji({state:t},{drawFunc:e,paletteOverride:n="palette",bitmapOverride:i="bitmap",canvas:r}){t.paletteIndex=0;let s=null,o=null;return{syncState(l){qi(r,e,l[i],l[n],l.scale,s,o),s=l[i],o=l.scale,l[n]}}}function Nt(t={}){return e=>ji(e,t)}function Ji({state:t,dispatch:e},{tools:n,eventTarget:i}){return t.activeTool=Object.keys(n)[0],i.addEventListener("pointerdown",r=>{let s=t.pos,o=n[t.activeTool],l=o(s,t,e);if(!l)return;let a=c=>{if(c.buttons==0)i.removeEventListener("mousemove",a);else{let h=t.pos;if(h.x==s.x&&h.y==s.y)return;l(t.pos,t),s=h}};i.addEventListener("mousemove",a)}),{syncState(r){t=r}}}function Re(t={}){return e=>Ji(e,t)}function $i({dispatch:t},{check:e=()=>!0,cb:n}){return{attached(i){e(i)&&n(i,t)},syncState(i){e(i)&&n(i,t)}}}function D(t={}){return e=>$i(e,t)}function tn(t){let e;return n=>n[t]!=e?(e=n[t],!0):!1}function kn(t,e,n){function i(r,s){const o=s.bitmap.line({x:t.x,y:t.y},{x:r.x,y:r.y},s.paletteIndex);t=r,n({bitmap:o})}return i(t,e),i}function tr(t,e,n){function i({x:r,y:s},o){n({bitmap:o.bitmap.flood({x:r,y:s},o.paletteIndex)})}return i(t,e),i}function er(t,e,n){function i({x:r,y:s},o){const l=e.bitmap.rect({x:t.x,y:t.y},{x:r,y:s},e.paletteIndex);n({bitmap:l})}return i(t),i}function nr(t,e,n){function i({x:r,y:s}){n({bitmap:e.bitmap.line({x:t.x,y:t.y},{x:r,y:s},e.paletteIndex)})}return i(t),i}function ir(t,e,n){function i({x:r,y:s}){n({bitmap:e.bitmap.shift(t.x-r,t.y-s)})}return i(t),i}const rr="data:image/png;base64,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",sr="data:image/png;base64,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",or="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkEAYAAAFXdXmBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAZdEVYdEF1dGhvcgBIYW5uYWggVHdpZ2ctU21pdGgrm0NgAAAARHRFWHRDb3B5cmlnaHQAQ0MgQXR0cmlidXRpb24gaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wL2kQ110AAAHhSURBVHja7d1NbuIwAIZhHG/hHHCKHA3E0WwpJyJ7dxFl0Ur9UdKkdvo8m9F0FpF5+UpnGCCUUkopp811p53Ue6GUUkrpft/8QiGEEMLzqZELLRZ8Z6j2puuav6lcwAVc4AgX2O1x4jAPDw5Sy0Fyzjnn7e+8ijiIg/yTg3hAdBB3LXctB3EQB/FjvLuWgziIgziIgziIgzhIFQeJMcYYbzd/Z3fXchAHMfYj6twEgiCIIAgiSBXmJyz2euJCEAtBEAQRBEEEQRBBEEQQBFlnHI8SxFO4FoIggiCIIPgpy0IQRBAEQRBBEEQQBBEEQQRp2PwyhKUfUCDIRpZ+kIMgCCIIggiCIIIgiCAIgiCCIIggCCIIggiCIAgiCIIIgiBfaf89T5oPMn+IT9/3fd9fLq2fx8uiLQRBBEEQQRBEEAQRBEH4lH86Ad+xwEDAQMBAwEDAQMBAwEDAQAADAQNpyzAMwzBcr/OvbpE6+L9Yf2z6RIfXa/rd+fz+T8fxKK+X9AjCCh+H8d3XMRAwEDAQMBAwEDAQwEDAQMBAwEDAQMBAwEDAQMBAwEAAAwEDAQMBAwEDAQMBAwED4XdNb9z3ePz06+zLOyuCRxAwEDAQMBAwEDAQMBAwEDAQwEDAQGC9N0ltqvdV+SVpAAAAAElFTkSuQmCC",ar="data:image/png;base64,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",lr="data:image/png;base64,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",cr="data:image/png;base64,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",hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkEAYAAAFXdXmBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAZdEVYdEF1dGhvcgBIYW5uYWggVHdpZ2ctU21pdGgrm0NgAAAARHRFWHRDb3B5cmlnaHQAQ0MgQXR0cmlidXRpb24gaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wL2kQ110AAAF7SURBVHja7d0xctswEIZRgoP7n2z3TFIhlhxVBLjAvNek5Kw//ZbjJE77XI7BzmMSD6r/oJ6ZmTn+Qc3L24OmP2j4q+5c/kPlAe9/kvQy9YCF3mK3eXtwiEMc4hCHOMQhDvG1lkMc4hCHOMQhDnFIBdP+jMoXjTbiEIc4xCEOcYhDfK2FV5YgCCIIgiCIIAgiCIIIwmjt94vvZVXRfWvRpywEEQRBBEEQQRBEEARBkEX4i3IWgiCCIIggCCIIggiCIAgiCIIIgiCCIIggCIIggiCIIDxrm596uwv/CrfaQvy9Re8hCCIIggiCIIIgiCAIgiCCIIggCCIIggiCIAgiCIIIwqP8RDnwGQsMBAwEDAQMBAwEDAQMBAwEMBAwEDAQMBAwEDAQMBAwEDAQMBDAQMBAwEDAQKAC/4Ek/NEjIiJ8IOD2HcRPVgS/BwEDAQMBAwEDAQMBAwEDAQMBDAQMBAwEDAQMBAwEDAQMBAwEDAQwEDAQMBAwECjgC5KFgw/EKDwBAAAAAElFTkSuQmCC",ur="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkEAYAAAFXdXmBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAZdEVYdEF1dGhvcgBIYW5uYWggVHdpZ2ctU21pdGgrm0NgAAAARHRFWHRDb3B5cmlnaHQAQ0MgQXR0cmlidXRpb24gaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wL2kQ110AAAF9SURBVHja7d0xbuQwEEVBUVfi/c/WCqRQgBI21SSqEoeD3jd/PGsbdouIiDjSncckHqj+A7X7Q+/pD+Tp7YHmP72zn3Xn8v9UHuD/F0lPUw+w0KfYbT49OMQhDnGIQxziEId4r+UQhzjEIQ5xiEMcUuK91v0h/3tU3jTaiEMc4hCHOMQhDvFeC88sQRBEEARBEEEQRBAEEYRszzdAfTWrTBBfXPSShSCCIIggCCIIggiCIAiyCF/LshAEEQRBBEEQQRBEEARBEEEQRBAEEQRBBEEQBBEEQQRhrG1+6+1mQfyoXJkgfnLR5xAEEQRBBEEQQRBEEARBEEEQRBAEEQRBBEEQBBEEQQRhKD+XBV6xwEDAQMBAwEDAQMBAwEDAQAADAQMBAwEDAQMBAwEDAQMBAwEDAQwEDAQMBAwEKvAHJOF7IP7kLbwOxG9WBP8HAQMBAwEDAQMBAwEDAQMBAwEMBAwEDAQMBAwEDAQMBAwEDAQMBDAQMBAwEDAQKOAC9YFXDhqAsesAAAAASUVORK5CYII=",fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkEAYAAAFXdXmBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAZdEVYdEF1dGhvcgBIYW5uYWggVHdpZ2ctU21pdGgrm0NgAAAARHRFWHRDb3B5cmlnaHQAQ0MgQXR0cmlidXRpb24gaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wL2kQ110AAAolSURBVHja7Z1ZKH1fG8eX6WemREgZIykiY4YL44XMKVEuTCVkzJVyh5BSEiFX5IJMJWW6MmXIQeZ5yBgyz/wv3v/z7jrn9Z6Dc45zfr6fu33O3mutZ3/Xs/daa6/1LIWhoaGhoaH3dyZhFD97wd3d3d3dnRQy0tDQ0NDQYCwoKCgoKEgCGfn5+fn5+XHHfX19fX19ErRI4hqFhISEhIR8I6PV1dXV1VXBP/b39/f397kMcnNzc3NzP76l/f39/f39gv9fX19fX18zpiCz1RsZ/b0ZSbzWKcrMrbq5ubm5uZFgBlpaWlpaWtzxwcHBwcGBBG9RWlpaWlqaBDO4urq6uroSIQN6iPHT1tbW1tYm+F4h/lP7GMvMzMzMzGTs5OTk5OTkV1dTZCC/Dzu5fz3w++n7+/v7+ztjZWVlZWVlcqBIY2NjY2MjY4mJiYmJiYL/k0EKCgoKCgoyrEhTU1NTU9P/uXP/GlBVVVVVVSWHLQ9+Ojo6Ojo6ZNgQelcJw97e3t7eHk8t2alaMASGwBDpgqfWrzNkZ2dnZ2dHjg2hxqOZmZmZmdnHvVaZNYQKzN/6paZLS0tLS0uLHBiira2tra398f/19fX19fVyYEhhYWFhYeFf4OzOzs7Ozs4f/08+I/ePX39/f39/fxk2ZHh4eHh4WPh5gYGBgYGBMmwIPW6FYWhoaGhoKMOGbG9vb29vi35+RkZGRkaGGA05Ojo6OjoSfiIN005NTU1NTTFWWlpaWlrKvTcGBgYGBgZEz1hXV1dXV5e7vq6urq6ujjH6Zvb8/Pz8/Pzx9fT/4eHh4eEhGo0wBIbAEBgCQ2AIDIEhkuSvaWuhZgGJoCxvBb68vLy8vGQsMjIyMjLy4/NoLKe8vLy8vByCiJ2CgoKCggLGFhcXFxcXhX86pgnE1I8W9VMzHllCuLi4uLi4YGxsbGxsbEz0SQY00TorKysrK0tyg4K/ThAa+oqOjo6Ojv789eHh4eHh4dw8HgjyTWjoLSkpKSkp6fvpfTTNHYJ8ElVVVVVV1a9f7+vr6+vry1hvb29vby8E+TSnp6enp6fiS48E4fF4PB4Pgnyazs7Ozs5OxgwMDAwMDL6fnre3t7e3N94hX4amE1BzV9wsLy8vLy9DEKHk5eXl5eUxpqmpqampyZiDg4ODg4P40u/p6enp6eEWnLy9vb29vcmO/f9O5JZeg5BezlZWVlZWVox5eHh4eHhw/QRjY2NjY2Pp34jR0dHR0VGuFUYedHx8fHx8LEVBMLiIRxaAIBAEQBAIAiAIBAEQBIIACAIgiJyAsSx4CIAgEAT8WkFobf9XQ53KGnI3t5c+8c7MzMzMzHx8Hk2S0NHR0dHRgSBip6SkpKSkhBNicHBwcHBQMKJYQ0NDQ0MDYxEREREREfIzp1fuHln0rZsmKXwU2i05OTk5OZmLLfFToRn+WkGam5ubm5sZU1ZWVlZWZkxdXV1dXV34dRTqTtTABhBERCjAAs1iFxX+6CuihoGFIEKgWevBwcHBwcGfv56WJYg7VuKvf4d8NRwoBeLHgp1vsre3t7e39/10aCKeuNL7tYIsLCwsLCx8Px1xR0P9tYJQTJ3vBtoStVUGQYSwsbGxsbHBzQH+LcisIFtbW1tbW4xZWlpaWlpCkB+HdtywsLCwsLAQX7pnZ2dnZ2cQ5MtYW1tbW1uLL721tbW1tTUI8mX09fX19fW/n46enp6enh4XeACC/DDUH6EABBBERCRVg2mFFrXeIIiIVFdXV1dXM+bo6Ojo6Ci+dJ2cnJycnNDKEhlafLm0tLS0tMRYcXFxcXGx+POhwcb8/Pz8/HzZE0SZQlfQvmtqampqamqMqaioqKiofD5BikZ7fn5+fn7OhVOib9/Uv5ifn5+fnxccIvH09PT09OTKIW66urq6urq4wM4ULYiE8vHx8fHx4Tqk5ubm5ubmjBkZGRkZGXHReoUFVxcGRRG+vb29vb3lPg9IfRUuGWZra2tra8tYQEBAQEAAJ4S0oQpJn4THx8fHx8e5d83j4+Pj46P0yoOZi3iHAAgCQQAEgSAAgkAQAEEgCIAgAIJAEABBIAiAIBAEQBAIAiAIgCAQBEAQCALEC+ZlAYAnFgBwEADgIABIE2XcAulAy/UGBgYGBga4VVy0NR//TtaKioqKiorcoiaKH0kLV78aqgqgky4TUAhhikrIvxKbglNQkDz+cC6bm5ubm5tcvM/19fX19XXB6ysrKysrK+Uv4BEc5JeysrKysrLC7bJLb4bQ0NDQ0FDGcnJycnJyvp5+RUVFRUWFYKDc2tra2tpa8UeFQR8EiIXd3d3d3V1Bx6CIzt91DIJirCckJCQkJHD5pKampqamMra/v7+/vw894CAyRlFRUVFREVdh3d3d3d3dGYuLi4uLixN/fvHx8fHx8Yw5Ozs7Oztz+VJsfAAHkQlGR0dHR0cFA9RlZGRkZGRIPv/09PT09HTumGL2TExMTExMQB84yA/T3d3d3d3NHdMT3cTExMTERPL5U4wi/qhiNEoG4CA/wsvLy8vLC2PT09PT09Pc797e3t7e3tIvj5eXl5eXF3c8OTk5OTnJ2Ovr6+vrK/SCg0iZ2dnZ2dlZwQro4uLi4uIi/fK4urq6uroKOvDc3Nzc3Bz0goNIGWrrExR2UVpNK35MTU1NTU25cJEEfYgEcBCp8tGHv5/GxsbGxsaGO5b16PZwkL8U+tJNiHsfja/CXw4KjAzgIFLtnPN/kJNVB6EPmFRuAAeRypuDf3KhrGyNxV8OKuf29vb29jb0g4NIGP7tZWjWLX/b/6f7IPyzffkHFQAcRCLweDwej8cd0z6u5Cg/DW0yb2dnZ2dn93G5ARxEIn0P/h3dfmrTGWHQrkDEyMjIyMgI+iJwEAnR2tra2trKbadF23GFh4eHh4fLXnmpXFTOp6enp6cnxtrb29vb26EnHERM0EKl+vr6+vp67vfs7Ozs7GzG/vz58+fPH9krt6qqqqqqKmOZmZmZmZnc77RuhH+YGvxvsGDqX2ifPPpu0NnZ2dnZydjU1NTU1BR3XkpKSkpKCmOxsbGxsbHyY19TU1NTUxNjjY2NjY2N3O9ubm5ubm6MhYWFhYWFccPExsbGxsbGcBCxbSBJoya0M+h3oTlOtHRV2tC23lFRUVFRUYzFxMTExMQwpqSkpKSkJL+C031taWlpaWnhHgS0A6u0oakx4rqvNzc3Nzc3gsPwX67XNTU1NTU17++UMAUX4K+YtNMotWX5oQJROuIajaG11tSWpq1w6Xc6jxxTU1NTU1OTq+BYqy1Z7u/v7+/vGTs7Ozs7O+PqDdUDGhSg8x4eHh4eHri+HP0ursEDqgcfBbWgJjE1QfkdlUYj/5sOmlgAoJMOABwEADgIAHAQAOAgAMBBAICDAAAHAQAOAgCAgwAABwEADgIAHAQAOAgAcBAA4CAAwEEAgIMAAAcBAMBBAICDAAAHAQAOAoAM8A8ewZZE4FRF5AAAAABJRU5ErkJggg==",dr="data:image/png;base64,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";var b={};b.render=function(t,e,n){if(typeof t=="string"&&(t=document.getElementById(t)),!t||!t.tagName)throw"bmp_lib.render: Invalid element: "+t;if(t.tagName=="IMG")t.src=this.imageSource(e,n);else if(t.tagName=="TABLE"){var i=this.tableBody(e,n);if("outerHTML"in t){for(var r=t.rows.length,s=r-1;s>=0;s--)t.deleteRow(s);var o=t.outerHTML;o=o.substring(0,o.indexOf(">")+1);var l=document.createElement("DIV");l.innerHTML=o+i+"</table>",t.parentElement.replaceChild(l.firstChild,t)}else t.innerHTML=i}else throw"bmp_lib.render: Invalid HTML tag: "+t.tagName};b.imageSource=function(t,e){var n=this.normalize_(t,e),i=this.createBmp_(n[0],n[1]);return"data:image/bmp;base64,"+this.encode64_(i)};b.tableBody=function(t,e){var n=this.normalize_(t,e);t=n[0];for(var i=n[1],r=t.length,s=r&&t[0].length,o,l=[],a=0;a<r;a++){row=[];for(var c=0;c<s;c++){i?o=i[t[a].charCodeAt(c)]:o=t[a][c];var h=this.dec2hex_(o[0])+this.dec2hex_(o[1])+this.dec2hex_(o[2]);row[c]="<TD BGCOLOR=#"+h+"><img width=1 height=1></TD>"}row.unshift("<TR>"),row.push("</TR>"),l[a]=row.join("")}return l.join(`
`)};b.normalize_=function(t,e){var n;if(t.length==0)n=null;else if(typeof t[0]=="string"&&e)n=e;else if(typeof t[0]=="object"&&typeof t[0][0]=="number"&&e)t=this.arrayArrayToArrayStr_(t),n=e;else if(typeof t[0]=="object"&&typeof t[0][0]=="object"&&t[0][0].length>=3)n=null;else throw"Invalid argument types.";return[t,n]};b.createBmp_=function(t,e){var n="BMxxxx\0\0\0\0yyyy",i=t.length,r=i&&t[0].length,s=this.multiByteEncode_(i,4),o=this.multiByteEncode_(r,4),l=this.multiByteEncode_(40,4),a;e&&e.length<=256?a=8:(a=24,e&&(t=this.depalette_(t,e)),e=null);var c=this.multiByteEncode_(a,2),h=l+o+s+"\0"+c+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",u;if(a!=24){var f=String(e);if(b.createBmp_.palette_str_cache==f)u=b.createBmp_.rgbQuad_cache;else{u=[];for(var g=0,m=0,A=0,d=0;d<256;d++)d<e.length&&(g=e[d][0],m=e[d][1],A=e[d][2]),u[d]=String.fromCharCode(A,m,g,0);u=u.join(""),b.createBmp_.palette_str_cache=f,b.createBmp_.rgbQuad_cache=u}}else u="";var v;r%4==1?v="\0\0\0":r%4==2?v="\0\0":r%4==3?v="\0":v="",a==24&&(v=v+v+v);for(var y=[],_=0;_<i;_++){var w=t[i-_-1];if(a==8)y[_]=w+v;else if(a==24){for(var d=0;d<r;d++)y.push(String.fromCharCode(w[d][2],w[d][1],w[d][0]));y.push(v)}}y=y.join("");var x=n+h+u+y;return x=x.replace(/yyyy/,this.multiByteEncode_(n.length+h.length+u.length,4)),x=x.replace(/xxxx/,this.multiByteEncode_(x.length,4)),x};b.createBmp_.palette_str_cache="";b.createBmp_.rgbQuad_cache="";b.multiByteEncode_=function(t,e){if(t<0||e<0)throw"Negative numbers not allowed.";for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t&255),t=t>>8;if(t!=0)throw"Overflow, number too big for string length";return n};b.arrayArrayToArrayStr_=function(t){for(var e=Array(t.length),n=0;n<t.length;n++){let r=[];for(var i=0;i<t[n].length;i++)r[i]=String.fromCharCode(t[n][i]);e[n]=r.join("")}return e};b.depalette_=function(t,e){for(var n=Array(t.length),i=0;i<t.length;i++){n[i]=[];for(var r=0;r<t[i].length;r++)n[i][r]=e[t[i].charCodeAt(r)]}return n};b.dec2hex_=function(t){var e=t%16,n=(t-e)/16;return b.dec2hex_.hexChars.charAt(n)+b.dec2hex_.hexChars.charAt(e)};b.dec2hex_.hexChars="0123456789ABCDEF";b.encode64_=function(t){var e="",n=0;do{var i=t.charCodeAt(n++),r=t.charCodeAt(n++),s=t.charCodeAt(n++),o=i>>2,l=(i&3)<<4|r>>4,a=(r&15)<<2|s>>6,c=s&63;isNaN(r)?a=c=64:isNaN(s)&&(c=64),e=e+b.encode64_.keyStr.charAt(o)+b.encode64_.keyStr.charAt(l)+b.encode64_.keyStr.charAt(a)+b.encode64_.keyStr.charAt(c)}while(n<t.length);return e};b.encode64_.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";"btoa"in window&&typeof window.btoa=="function"&&window.btoa("hello")=="aGVsbG8="&&(b.encode64_=function(t){return window.btoa(t)});function re(t,e){const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),document.body.appendChild(n),n.click(),n.remove()}async function Qe(t){return await Promise.all(t.map(async e=>{const n=new Image;return n.src=new URL(Object.assign({"./assets/stitches/knit.png":rr,"./assets/stitches/knit_transparent.png":sr,"./assets/stitches/needle_in_work.png":or,"./assets/stitches/needle_out_of_work.png":ar,"./assets/stitches/purl.png":lr,"./assets/stitches/purl_transparent.png":cr,"./assets/stitches/slip.png":hr,"./assets/stitches/slip_transparent.png":ur,"./assets/stitches/tuck.png":fr,"./assets/stitches/tuck_transparent.png":dr})[`./assets/stitches/${e}.png`],self.location).href,await n.decode(),{image:n,title:e}}))}function Ln(t,e,n){e.fillStyle=t,e.fillRect(0,0,n,n)}function Ne(t,e,n){e.imageSmoothingQuality="high",e.clearRect(0,0,n,n),e.drawImage(t.image,0,0,n,n)}function Ar(t,e){let n=t>e?t:e;for(;;){if(n%t==0&&n%e==0)return n;n++}}function gr(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}function pr(t,e,n){const i=Ar(t.height,e.length),r=t.make2d(),s=[];for(let a=0;a<i;a++)s.push(r[a%t.height].map(c=>c==0||c==1?e[a%e.length]:n.length));const o=n.map(a=>gr(a));o.push([0,0,0]);const l=document.createElement("img");return b.render(l,s,o),l}function Zt({bitmap:t},e){if(e=="horizontal")return Array.apply(null,Array(t.width)).map((n,i)=>i+1);if(e=="vertical")return Array.apply(null,Array(t.height)).map((n,i)=>i+1).reverse()}function Gt({gutterFunc:t,container:e,axis:n}){return(i,r)=>{let s=t(i,n);function o(l){return n=="horizontal"&&i.pos.x==l?!0:n=="vertical"&&i.pos.y==l}lt(X`<div class="gutter ${n}" style="--scale:${i.scale}px;">
        ${s.map((l,a)=>X`<div class="cell ${o(a)?"highlight":""}">
              ${l}
            </div>`)}
      </div>`,e)}}const vr={flood:"fa-fill-drip",brush:"fa-paintbrush",rect:"fa-vector-square",line:"fa-minus",shift:"fa-up-down-left-right"};function mr(t,e){return(n,i)=>lt(X`<div class="tool-select">
        ${Object.keys(t).map(r=>X`<button
              class=${n.activeTool==r?"active":""}
              @click=${()=>i({activeTool:r})}>
              <i class="fa-solid ${vr[r]}"></i>
            </button>`)}
      </div>`,e)}function yr(t,e){return(n,i)=>lt(X`
        <div class="palette-select">
          ${t.map(({image:r,title:s},o)=>X`<img
                class=${o==n.paletteIndex?"selected":""}
                src=${r.src}
                title=${s}
                @click=${()=>i({paletteIndex:o})} />`)}
        </div>
      `,e)}function wr({container:t}){return(e,n)=>{let{bitmap:i}=e;lt(X`<div class="spinner horizontal">
        <button
          class="minus"
          @click=${()=>n({bitmap:i.resize(i.width-1,i.height)})}>
          <i class="fa-solid fa-minus"></i>
        </button>

        <input
          type="text"
          .value=${Mn(i.width)}
          class="size-input"
          @change=${r=>n({bitmap:i.resize(Number(r.target.value),i.height)})} />
        <button
          class="plus"
          @click=${()=>n({bitmap:i.resize(i.width+1,i.height)})}>
          <i class="fa-solid fa-plus"></i>
        </button>
      </div>`,t)}}function _r({container:t}){return(e,n)=>{let{bitmap:i}=e;lt(X`<div class="spinner vertical">
        <button
          class="plus"
          @click=${()=>n({bitmap:i.resize(i.width,i.height+1)})}>
          <i class="fa-solid fa-plus"></i>
        </button>
        <input
          type="text"
          .value=${Mn(i.height)}
          class="size-input"
          @change=${r=>n({bitmap:i.resize(i.width,Number(r.target.value))})} />

        <button
          class="minus"
          @click=${()=>n({bitmap:i.resize(i.width,i.height-1)})}>
          <i class="fa-solid fa-minus"></i>
        </button>
      </div>`,t)}}async function xr(t,e){let n={brush:kn,flood:tr,line:nr,rect:er,shift:ir};const i=document.getElementById("pattern-grid"),r=await Qe(["knit","purl","slip","tuck"]);return new ie({state:{bitmap:C.fromJSON(t.repeat),palette:r,pos:{x:-1,y:-1}},components:[W({canvas:e}),Re({tools:n,eventTarget:i}),Nt({drawFunc:Ne,canvas:e}),D({check:tn("activeTool"),cb:mr(n,document.getElementById("repeat-tools"))}),D({check:tn("paletteIndex"),cb:yr(r,document.getElementById("repeat-palette"))}),D({cb:Gt({gutterFunc:Zt,container:document.querySelector(".bgutter .repeat"),axis:"horizontal"})}),D({cb:Gt({gutterFunc:Zt,container:document.querySelector(".lgutter .repeat"),axis:"vertical"})}),D({cb:_r({container:document.getElementById("repeat-height")})}),D({cb:wr({container:document.getElementById("repeat-width")})})]})}function Er({state:t,dispatch:e},{target:n}){t.pos={x:-1,y:-1};function i(r,s){const o=n.getBoundingClientRect(),l=Math.floor((r-o.x)/(t.aspectRatio[0]*t.scale)),a=Math.floor((s-o.y)/(t.aspectRatio[1]*t.scale));return{x:l,y:a}}return n.addEventListener("mousemove",r=>{const{x:s,y:o}=i(r.clientX,r.clientY);(t.pos.x!=s||t.pos.y!=o)&&e({pos:{x:s,y:o}})}),n.addEventListener("mouseleave",r=>{e({pos:{x:-1,y:-1}})}),{syncState(r){t=r}}}function Me(t={}){return e=>Er(e,t)}function br(t,e,n,i){t.imageSmoothingEnabled=!1,t.beginPath();for(let r=1;r<e;r++)t.moveTo(r*i,0),t.lineTo(r*i,n*i+1);for(let r=1;r<n;r++)t.moveTo(0,r*i),t.lineTo(e*i+1,r*i);t.stroke()}function Ir({},{canvas:t}){let e=null,n=null;return{syncState({bitmap:i,scale:r}){if(e==null||e.width!=i.width||e.height!=i.height||r!=n){const s=t.getContext("2d");s.resetTransform(),s.translate(-.5,-.5),s.clearRect(0,0,t.width,t.height),br(s,i.width,i.height,r),e=i,n=r}}}}function Sn(t={}){return e=>Ir(e,t)}function en(){for(var t="0123456789ABCDEF",e="#",n=0;n<6;n++)e+=t[Math.floor(Math.random()*16)];return e}function Cr(t){return(e,n)=>lt(X`
        <button
          style="aspect-ratio: 1;"
          @click=${()=>{let i=[...e.palette];i.push(en()),n({palette:i})}}>
          <i class="fa-solid fa-plus"></i>
        </button>

        <div class="palette-select">
          ${e.palette.map((i,r)=>X`<div
                style="background-color: ${i}"
                class="hex-select ${r==e.paletteIndex?"selected":""}"
                @click=${()=>n({paletteIndex:r})}>
                <label class="edit-color" for="color-${r}">
                  <i class="fa-solid fa-pen"></i>
                </label>
                <input
                  id="color-${r}"
                  type="color"
                  value="${i}"
                  @input=${s=>{let o=[...e.palette];o[r]=s.target.value,n({palette:o})}} />
              </div>`)}
        </div>

        <button
          style="aspect-ratio: 1;"
          @click=${()=>{n({palette:Array.from(Array(e.palette.length),()=>en())})}}>
          <i class="fa-solid fa-arrows-rotate"></i>
        </button>
      `,t)}function Br(t){return({state:e,dispatch:n})=>{let{bitmap:i,scale:r}=e;return t.addEventListener("pointerdown",s=>{const o=i,l=s.clientY;document.body.classList.add("grabbing"),t.classList.remove("grab");const a=()=>{console.log("end"),document.body.classList.remove("grabbing"),window.removeEventListener("mousemove",c),window.removeEventListener("pointerup",a),t.classList.add("grab")},c=h=>{let u=o.height+Math.floor((l-h.clientY)/r);u<1||n({bitmap:o.vMirror().resize(o.width,u).vMirror()})};window.addEventListener("mousemove",c),window.addEventListener("pointerup",a)}),{syncState(s){({bitmap:i,scale:r}=s)}}}}function Rr(t,e){const n=document.getElementById("color-dragger"),i=document.getElementById("color-change-grid");return new ie({state:{bitmap:C.fromJSON(t.yarns).vMirror(),palette:t.yarnPalette},components:[Me({target:i}),W({canvas:e}),W({canvas:i}),Nt({drawFunc:Ln,canvas:e}),Sn({canvas:i}),Re({tools:{brush:kn},eventTarget:i}),D({cb:Cr(document.getElementById("yarn-palette"))}),Br(n)]})}function Qr(t){return({state:e,dispatch:n})=>{let{bitmap:i,scale:r}=e;return t.addEventListener("pointerdown",s=>{const o=i,l=s.clientX;document.body.classList.add("grabbing"),t.classList.remove("grab");const a=()=>{console.log("end"),document.body.classList.remove("grabbing"),window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",a),t.classList.add("grab")},c=h=>{let u=o.width-Math.floor((l-h.clientX)/r);u<1||n({bitmap:o.resize(u,o.height)})};window.addEventListener("pointermove",c),window.addEventListener("pointerup",a)}),{syncState(s){({bitmap:i,scale:r}=s)}}}}function Nr(t,e,n){function i({x:r,y:s},o){n({bitmap:o.bitmap.draw([{x:r,y:s,color:o.bitmap.pixel(r,s)==0?1:0}])})}return i(t,e),i}async function Mr(t,e){const n=document.getElementById("needle-dragger"),i=await Qe(["needle_in_work","needle_out_of_work"]);return new ie({state:{bitmap:C.fromJSON(t.needles),palette:i},components:[Me({target:e}),W({canvas:e,setHeight:25}),Nt({drawFunc:Ne,canvas:e}),Re({tools:{flip:Nr},eventTarget:e}),Qr(n)]})}function kr(t,e,n,i){const r=t.getContext("2d");r.imageSmoothingEnabled=!1,r.clearRect(0,0,e.width*i,e.height*i),r.fillStyle="#2d2c2c";for(let s=0;s<e.width;s++)n[s%n.length]==1&&r.fillRect(s*i,0,i,e.height*i)}function Lr({},{canvas:t}){let e=null,n=null;return{syncState(i){(e!=i.needles||n!=i.scale)&&kr(t,i.bitmap,i.needles,i.scale),e=i.needles,n=i.scale}}}function Sr(t={}){return e=>Lr(e,t)}function Tr(t,e,n,i){const r=t.getContext("2d");r.imageSmoothingEnabled=!1,r.clearRect(0,0,t.width,t.height),!(n.x<0||n.y<0)&&(r.fillStyle=i,r.fillRect(n.x*e,n.y*e,e,e))}function Hr({},{canvas:t,color:e="#00000044"}){let n=null;return{syncState(i){i.pos!=n&&(Tr(t,i.scale,i.pos,e),n=i.pos)}}}function Pr(t={}){return e=>Hr(e,t)}async function Vr(t,{colorLayer:e,symbolLayer:n}){const i=await Qe(["knit_transparent","purl_transparent","slip","tuck"]),r=document.getElementById("preview"),s=document.getElementById("pattern-grid"),o=document.getElementById("preview-symbols"),l=document.getElementById("preview-needles"),a=document.getElementById("pattern-highlight");return new ie({state:{bitmap:e,symbolMap:n,scale:t.scale/devicePixelRatio,palette:t.yarnPalette,stitchPalette:i,needles:[]},components:[Me({target:s}),W({canvas:r}),W({canvas:o}),W({canvas:l}),W({canvas:a}),W({canvas:s}),Nt({drawFunc:Ln,canvas:r}),Nt({drawFunc:Ne,paletteOverride:"stitchPalette",bitmapOverride:"symbolMap",canvas:o}),Sr({canvas:l}),Pr({canvas:a}),Sn({canvas:s}),D({cb:Gt({gutterFunc:Zt,container:document.querySelector(".bgutter .preview"),axis:"horizontal"})}),D({cb:Gt({gutterFunc:Zt,container:document.querySelector(".lgutter .preview"),axis:"vertical"})})]})}const pe="ECN",xt="PCN",ut="ACN",yt="UACN",Xr="K",Fr="P",nn="T",rn="M";class Or{constructor(e,n,i=!0){if(this.width=2*e,this.height=n+1,this.contacts=Array.from({length:this.width*this.height},()=>[null,pe,[null,null]]),i)for(let r=0;r<this.width;r++)this.setAV(r,0,xt),this.setMV(r,0,[0,0])}getST(e,n){return this.neighborhood(e,n)[0]}setSt(e,n,i){this.neighborhood(e,n)[0]=i}getAV(e,n){return this.neighborhood(e,n)[1]}setAV(e,n,i){this.neighborhood(e,n)[1]=i}getMV(e,n){return this.neighborhood(e,n)[2]}getDeltaI(e,n){return this.neighborhood(e,n)[2][0]}getDeltaJ(e,n){return this.neighborhood(e,n)[2][1]}setMV(e,n,i){this.neighborhood(e,n)[2]=i}setDeltaJ(e,n,i){this.neighborhood(e,n)[2][1]=i}setDeltaI(e,n,i){this.neighborhood(e,n)[2][0]=i}neighborhood(e,n){return this.contacts[n*this.width+e]}}class Ur{constructor(e){this.instructions=e,this.width=e.width,this.height=e.height,this.cn=new Or(this.width,this.height),this.populateContacts()}handleKPLower(e,n,i){this.cn.setSt(e,n,i);const r=this.cn.getAV(e,n),s=this.cn.getMV(e,n);r==xt&&s[0]===0&&this.cn.setAV(e,n,ut),r==yt&&((this.cn.getAV(e+1,n-1)==ut&&this.cn.getMV(e+1,n-1)[1]==0||this.cn.getAV(e-1,n-1)==ut&&this.cn.getMV(e-1,n-1)[1]==0)&&this.cn.setAV(e,n,ut),this.cn.getAV(e,n-1)==xt&&this.cn.setAV(e,n-1,ut))}handleKPUpper(e,n){this.cn.setMV(e,n+1,[0,0]),this.cn.getAV(e,n)==ut?this.cn.setAV(e,n+1,xt):this.cn.setAV(e,n+1,yt),this.cn.getAV(e,n)==yt}handleTuckMissUpper(e,n,i){i==nn?(this.cn.setAV(e,n+1,yt),this.cn.setMV(e,n+1,[0,0])):i==rn&&(this.cn.setAV(e,n+1,pe),this.cn.setMV(e,n+1,[0,-1]))}handleTuckMissLower(e,n,i){const r=this.cn.getAV(e,n);if(r==xt||r==yt)this.cn.setDeltaJ(e,n,1);else if(r==pe){let s=!1,o=0,l=0;for(;!s;){const a=this.cn.getMV(e,n-o)[1];if(a>0&&(this.cn.setDeltaJ(e,n-o,a+1),s=!0),o++,l++,l>1e3){console.error("COULDN'T FIND STITCH");break}}}}handleOp(e,n,i,r){(i==Xr||i==Fr)&&(this.handleKPLower(e,n,i),this.handleKPLower(e+r,n,i),this.handleKPUpper(e,n,i),this.handleKPUpper(e+r,n,i)),(i==nn||i==rn)&&(this.handleTuckMissLower(e,n,i),this.handleTuckMissLower(e+r,n,i),this.handleTuckMissUpper(e,n,i),this.handleTuckMissUpper(e+r,n,i))}processRow(e,n){if(n)for(let i=0;i<this.width;i++){const r=this.instructions.op(i,e);this.handleOp(2*i,e,r,1)}else for(let i=this.width-1;i>=0;i--){const r=this.instructions.op(i,e);this.handleOp(2*i+1,e,r,-1)}}populateContacts(){let e=!0;for(let n=0;n<this.height;n++)this.processRow(n,e),e=!e}}const Yr={T:0,K:1,S:2,p:3},zr=["K","P","M","T"];class Dr{constructor(e,n){this.ops=Array.from(e.pixels).map(i=>zr[i]).toReversed().filter((i,r)=>{let s=r%e.width;return n[s]!=1}),this.width=n.filter(i=>i!=1).length,this.height=e.height}op(e,n){return e>this.width-1||e<0||n>this.height-1||n<0?-1:this.ops.at(e+n*this.width)}makeOpData(){const e=this.width,n=this.height,i=[];for(let r=0;r<n;r++)for(let s=0;s<e;s++){const o=r*e+s,l=this.op(s,r),a=[[2*s,r],[2*s+1,r],[2*s+1,r+1],[2*s,r+1]];i.push({index:o,stitch:l,op:Yr[l],cnIndices:a.map(([c,h])=>h*2*e+c)})}return i}}const Tn="K",Hn="P",Wr="ECN",sn="ACN",Zr="UACN";function Gr(t){let e=0,n=0,i=!0,r=0;const s=[];for(;n<t.height;){const o=r%2==0,l=e%2==0,a=o===l?"F":"L";if(Kr(e,n,i,s,t)){let c;if(i)c=[e,n,r,a+"L"];else{const h=Pn(e,n,t);c=[h.i,h.j,r,a+"H"]}s.push(c)}({i:e,j:n,legNode:i,currentStitchRow:r}=Vn(e,n,i,r,t))}return s}function Kr(t,e,n,i,r){if(n)return r.getST(t,e)==Tn||r.getST(t,e)==Hn;{let s=r.getAV(t,e);if(s==Wr)return!1;if(s==Zr){let o,l,a,c;if(t%2==0&&e%2!=0)[o,l,a,c]=i.at(-1);else{let u=!1,f=t,g=e,m=n,A=e-1;for(;!u;){const d=Vn(f,g,m,A,r);r.getAV(d.i,d.j)==sn&&(u=!0),f=d.i,g=d.j,m=d.legNode,A=d.currentStitchRow}o=f,l=g}const h=Pn(t,e,r);return l<h.j?(r.setAV(t,e,sn),!0):!1}else return!0}}function Pn(t,e,n){const[i,r]=n.getMV(t,e);return e==n.height-1?{i:t,j:e}:i!=0?ve(t+i,e,n):ve(t,e+r,n)}function ve(t,e,n){return n.getST(t,e)==Tn||n.getST(t,e)==Hn?{i:t,j:e}:e==n.height-1?{i:t,j:e}:ve(t,e+n.getDeltaJ(t,e),n)}function Vn(t,e,n,i,r){const s=i%2==0,o=t%2==0;let l=t,a=e,c=n;return n?s?o?(a=e+1,c=!1):l=t+1:o?l=t-1:(a=e+1,c=!1):s?o?l=t+1:(a=e-1,c=!0):o?(a=e-1,c=!0):l=t-1,l<0||l>=r.width?{i:t,j:e+1,legNode:!0,currentStitchRow:i+1}:{i:l,j:a,legNode:c,currentStitchRow:i}}class qr{constructor(e){this.width=e.width,this.height=e.height,this.cns=e,this.contactNodes=e.contacts.map((n,i)=>({index:i,st:n[0],cn:n[1],mv:n[2]})),this.yarnPath=Gr(e)}yarnPathToLinks(){let e=0,n=this.yarnPath[0][3];const i=[];return this.yarnPath.forEach(([r,s,o,l],a)=>{if(a==0)return;let c=s*this.width+r;i.push({source:e,target:c,row:o,linkType:n+l,index:a-1}),e=c,n=l}),i}makeNice(){return this.yarnPath.map(([e,n,i,r])=>({cnIndex:n*this.width+e,i:e,j:n,row:i,cnType:r,angle:null,normal:[0,0]}))}}function ue(t){return function(){return t}}function on(t){return(t()-.5)*1e-6}function jr(t){return t.index}function an(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Jr(t){var e=jr,n=u,i,r=ue(30),s,o,l,a,c,h=1;t==null&&(t=[]);function u(d){return 1/Math.min(l[d.source.index],l[d.target.index])}function f(d){for(var v=0,y=t.length;v<h;++v)for(var _=0,w,x,R,M,k,Q,$;_<y;++_)w=t[_],x=w.source,R=w.target,M=R.x+R.vx-x.x-x.vx||on(c),k=R.y+R.vy-x.y-x.vy||on(c),Q=Math.sqrt(M*M+k*k),w.linkType=="FLFH"||w.linkType=="LHLL"?Math.sign(Q-s[_])<=0?Q=(Q-s[_])/Q*d*.001:Q=(Q-s[_])/Q*d*.2:Q=(Q-s[_])/Q*d*.5,M*=Q,k*=Q,R.vx-=M*($=a[_]),R.vy-=k*$,x.vx+=M*($=1-$),x.vy+=k*$}function g(){if(o){var d,v=o.length,y=t.length,_=new Map(o.map((x,R)=>[e(x,R,o),x])),w;for(d=0,l=new Array(v);d<y;++d)w=t[d],w.index=d,typeof w.source!="object"&&(w.source=an(_,w.source)),typeof w.target!="object"&&(w.target=an(_,w.target)),l[w.source.index]=(l[w.source.index]||0)+1,l[w.target.index]=(l[w.target.index]||0)+1;for(d=0,a=new Array(y);d<y;++d)w=t[d],a[d]=l[w.source.index]/(l[w.source.index]+l[w.target.index]);i=new Array(y),m(),s=new Array(y),A()}}function m(){if(o)for(var d=0,v=t.length;d<v;++d)i[d]=+n(t[d],d,t)}function A(){if(o)for(var d=0,v=t.length;d<v;++d)s[d]=+r(t[d],d,t)}return f.initialize=function(d,v){o=d,c=v,g()},f.links=function(d){return arguments.length?(t=d,g(),f):t},f.id=function(d){return arguments.length?(e=d,f):e},f.iterations=function(d){return arguments.length?(h=+d,f):h},f.strength=function(d){return arguments.length?(n=typeof d=="function"?d:ue(+d),m(),f):n},f.distance=function(d){return arguments.length?(r=typeof d=="function"?d:ue(+d),A(),f):r},f}var $r={value:()=>{}};function ke(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Yt(n)}function Yt(t){this._=t}function ts(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Yt.prototype=ke.prototype={constructor:Yt,on:function(t,e){var n=this._,i=ts(t+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(t=i[s]).type)&&(r=es(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(t=i[s]).type)n[r]=ln(n[r],t.name,e);else if(e==null)for(r in n)n[r]=ln(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Yt(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};function es(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function ln(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=$r,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var me="http://www.w3.org/1999/xhtml";const cn={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function se(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),cn.hasOwnProperty(e)?{space:cn[e],local:t}:t}function ns(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===me&&e.documentElement.namespaceURI===me?e.createElement(t):e.createElementNS(n,t)}}function is(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xn(t){var e=se(t);return(e.local?is:ns)(e)}function rs(){}function Le(t){return t==null?rs:function(){return this.querySelector(t)}}function ss(t){typeof t!="function"&&(t=Le(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=new Array(o),a,c,h=0;h<o;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c);return new H(i,this._parents)}function os(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function as(){return[]}function Fn(t){return t==null?as:function(){return this.querySelectorAll(t)}}function ls(t){return function(){return os(t.apply(this,arguments))}}function cs(t){typeof t=="function"?t=ls(t):t=Fn(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o=e[s],l=o.length,a,c=0;c<l;++c)(a=o[c])&&(i.push(t.call(a,a.__data__,c,o)),r.push(a));return new H(i,r)}function On(t){return function(){return this.matches(t)}}function Un(t){return function(e){return e.matches(t)}}var hs=Array.prototype.find;function us(t){return function(){return hs.call(this.children,t)}}function fs(){return this.firstElementChild}function ds(t){return this.select(t==null?fs:us(typeof t=="function"?t:Un(t)))}var As=Array.prototype.filter;function gs(){return Array.from(this.children)}function ps(t){return function(){return As.call(this.children,t)}}function vs(t){return this.selectAll(t==null?gs:ps(typeof t=="function"?t:Un(t)))}function ms(t){typeof t!="function"&&(t=On(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=[],a,c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new H(i,this._parents)}function Yn(t){return new Array(t.length)}function ys(){return new H(this._enter||this._groups.map(Yn),this._parents)}function Kt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Kt.prototype={constructor:Kt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ws(t){return function(){return t}}function _s(t,e,n,i,r,s){for(var o=0,l,a=e.length,c=s.length;o<c;++o)(l=e[o])?(l.__data__=s[o],i[o]=l):n[o]=new Kt(t,s[o]);for(;o<a;++o)(l=e[o])&&(r[o]=l)}function xs(t,e,n,i,r,s,o){var l,a,c=new Map,h=e.length,u=s.length,f=new Array(h),g;for(l=0;l<h;++l)(a=e[l])&&(f[l]=g=o.call(a,a.__data__,l,e)+"",c.has(g)?r[l]=a:c.set(g,a));for(l=0;l<u;++l)g=o.call(t,s[l],l,s)+"",(a=c.get(g))?(i[l]=a,a.__data__=s[l],c.delete(g)):n[l]=new Kt(t,s[l]);for(l=0;l<h;++l)(a=e[l])&&c.get(f[l])===a&&(r[l]=a)}function Es(t){return t.__data__}function bs(t,e){if(!arguments.length)return Array.from(this,Es);var n=e?xs:_s,i=this._parents,r=this._groups;typeof t!="function"&&(t=ws(t));for(var s=r.length,o=new Array(s),l=new Array(s),a=new Array(s),c=0;c<s;++c){var h=i[c],u=r[c],f=u.length,g=Is(t.call(h,h&&h.__data__,c,i)),m=g.length,A=l[c]=new Array(m),d=o[c]=new Array(m),v=a[c]=new Array(f);n(h,u,A,d,v,g,e);for(var y=0,_=0,w,x;y<m;++y)if(w=A[y]){for(y>=_&&(_=y+1);!(x=d[_])&&++_<m;);w._next=x||null}}return o=new H(o,i),o._enter=l,o._exit=a,o}function Is(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cs(){return new H(this._exit||this._groups.map(Yn),this._parents)}function Bs(t,e,n){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function Rs(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,o=Math.min(r,s),l=new Array(r),a=0;a<o;++a)for(var c=n[a],h=i[a],u=c.length,f=l[a]=new Array(u),g,m=0;m<u;++m)(g=c[m]||h[m])&&(f[m]=g);for(;a<r;++a)l[a]=n[a];return new H(l,this._parents)}function Qs(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Ns(t){t||(t=Ms);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],l=o.length,a=r[s]=new Array(l),c,h=0;h<l;++h)(c=o[h])&&(a[h]=c);a.sort(e)}return new H(r,this._parents).order()}function Ms(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ks(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ls(){return Array.from(this)}function Ss(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function Ts(){let t=0;for(const e of this)++t;return t}function Hs(){return!this.node()}function Ps(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],s=0,o=r.length,l;s<o;++s)(l=r[s])&&t.call(l,l.__data__,s,r);return this}function Vs(t){return function(){this.removeAttribute(t)}}function Xs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fs(t,e){return function(){this.setAttribute(t,e)}}function Os(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Us(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ys(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zs(t,e){var n=se(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Xs:Vs:typeof e=="function"?n.local?Ys:Us:n.local?Os:Fs)(n,e))}function zn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ds(t){return function(){this.style.removeProperty(t)}}function Ws(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zs(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Gs(t,e,n){return arguments.length>1?this.each((e==null?Ds:typeof e=="function"?Zs:Ws)(t,e,n??"")):pt(this.node(),t)}function pt(t,e){return t.style.getPropertyValue(e)||zn(t).getComputedStyle(t,null).getPropertyValue(e)}function Ks(t){return function(){delete this[t]}}function qs(t,e){return function(){this[t]=e}}function js(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Js(t,e){return arguments.length>1?this.each((e==null?Ks:typeof e=="function"?js:qs)(t,e)):this.node()[t]}function Dn(t){return t.trim().split(/^|\s+/)}function Se(t){return t.classList||new Wn(t)}function Wn(t){this._node=t,this._names=Dn(t.getAttribute("class")||"")}Wn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Zn(t,e){for(var n=Se(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Gn(t,e){for(var n=Se(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function $s(t){return function(){Zn(this,t)}}function to(t){return function(){Gn(this,t)}}function eo(t,e){return function(){(e.apply(this,arguments)?Zn:Gn)(this,t)}}function no(t,e){var n=Dn(t+"");if(arguments.length<2){for(var i=Se(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?eo:e?$s:to)(n,e))}function io(){this.textContent=""}function ro(t){return function(){this.textContent=t}}function so(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function oo(t){return arguments.length?this.each(t==null?io:(typeof t=="function"?so:ro)(t)):this.node().textContent}function ao(){this.innerHTML=""}function lo(t){return function(){this.innerHTML=t}}function co(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ho(t){return arguments.length?this.each(t==null?ao:(typeof t=="function"?co:lo)(t)):this.node().innerHTML}function uo(){this.nextSibling&&this.parentNode.appendChild(this)}function fo(){return this.each(uo)}function Ao(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function go(){return this.each(Ao)}function po(t){var e=typeof t=="function"?t:Xn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function vo(){return null}function mo(t,e){var n=typeof t=="function"?t:Xn(t),i=e==null?vo:typeof e=="function"?e:Le(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function yo(){var t=this.parentNode;t&&t.removeChild(this)}function wo(){return this.each(yo)}function _o(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Eo(t){return this.select(t?xo:_o)}function bo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Io(t){return function(e){t.call(this,e,this.__data__)}}function Co(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Bo(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,s;n<r;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Ro(t,e,n){return function(){var i=this.__on,r,s=Io(e);if(i){for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function Qo(t,e,n){var i=Co(t+""),r,s=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,h;a<c;++a)for(r=0,h=l[a];r<s;++r)if((o=i[r]).type===h.type&&o.name===h.name)return h.value}return}for(l=e?Ro:Bo,r=0;r<s;++r)this.each(l(i[r],e,n));return this}function Kn(t,e,n){var i=zn(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function No(t,e){return function(){return Kn(this,t,e)}}function Mo(t,e){return function(){return Kn(this,t,e.apply(this,arguments))}}function ko(t,e){return this.each((typeof e=="function"?Mo:No)(t,e))}function*Lo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var qn=[null];function H(t,e){this._groups=t,this._parents=e}function Ht(){return new H([[document.documentElement]],qn)}function So(){return this}H.prototype=Ht.prototype={constructor:H,select:ss,selectAll:cs,selectChild:ds,selectChildren:vs,filter:ms,data:bs,enter:ys,exit:Cs,join:Bs,merge:Rs,selection:So,order:Qs,sort:Ns,call:ks,nodes:Ls,node:Ss,size:Ts,empty:Hs,each:Ps,attr:zs,style:Gs,property:Js,classed:no,text:oo,html:ho,raise:fo,lower:go,append:po,insert:mo,remove:wo,clone:Eo,datum:bo,on:Qo,dispatch:ko,[Symbol.iterator]:Lo};function To(t){return typeof t=="string"?new H([[document.querySelector(t)]],[document.documentElement]):new H([[t]],qn)}function Te(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Pt(){}var Mt=.7,qt=1/Mt,dt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",U="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ho=/^#([0-9a-f]{3,8})$/,Po=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),Vo=new RegExp(`^rgb\\(${U},${U},${U}\\)$`),Xo=new RegExp(`^rgba\\(${dt},${dt},${dt},${kt}\\)$`),Fo=new RegExp(`^rgba\\(${U},${U},${U},${kt}\\)$`),Oo=new RegExp(`^hsl\\(${kt},${U},${U}\\)$`),Uo=new RegExp(`^hsla\\(${kt},${U},${U},${kt}\\)$`),hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Te(Pt,Lt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:un,formatHex:un,formatHex8:Yo,formatHsl:zo,formatRgb:fn,toString:fn});function un(){return this.rgb().formatHex()}function Yo(){return this.rgb().formatHex8()}function zo(){return Jn(this).formatHsl()}function fn(){return this.rgb().formatRgb()}function Lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ho.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dn(e):n===3?new N(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Po.exec(t))?new N(e[1],e[2],e[3],1):(e=Vo.exec(t))?new N(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xo.exec(t))?Vt(e[1],e[2],e[3],e[4]):(e=Fo.exec(t))?Vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Oo.exec(t))?pn(e[1],e[2]/100,e[3]/100,1):(e=Uo.exec(t))?pn(e[1],e[2]/100,e[3]/100,e[4]):hn.hasOwnProperty(t)?dn(hn[t]):t==="transparent"?new N(NaN,NaN,NaN,0):null}function dn(t){return new N(t>>16&255,t>>8&255,t&255,1)}function Vt(t,e,n,i){return i<=0&&(t=e=n=NaN),new N(t,e,n,i)}function Do(t){return t instanceof Pt||(t=Lt(t)),t?(t=t.rgb(),new N(t.r,t.g,t.b,t.opacity)):new N}function ye(t,e,n,i){return arguments.length===1?Do(t):new N(t,e,n,i??1)}function N(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Te(N,ye,jn(Pt,{brighter(t){return t=t==null?qt:Math.pow(qt,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new N(rt(this.r),rt(this.g),rt(this.b),jt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:An,formatHex:An,formatHex8:Wo,formatRgb:gn,toString:gn}));function An(){return`#${it(this.r)}${it(this.g)}${it(this.b)}`}function Wo(){return`#${it(this.r)}${it(this.g)}${it(this.b)}${it((isNaN(this.opacity)?1:this.opacity)*255)}`}function gn(){const t=jt(this.opacity);return`${t===1?"rgb(":"rgba("}${rt(this.r)}, ${rt(this.g)}, ${rt(this.b)}${t===1?")":`, ${t})`}`}function jt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function it(t){return t=rt(t),(t<16?"0":"")+t.toString(16)}function pn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new F(t,e,n,i)}function Jn(t){if(t instanceof F)return new F(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=Lt(t)),!t)return new F;if(t instanceof F)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,l=s-r,a=(s+r)/2;return l?(e===s?o=(n-i)/l+(n<i)*6:n===s?o=(i-e)/l+2:o=(e-n)/l+4,l/=a<.5?s+r:2-s-r,o*=60):l=a>0&&a<1?0:o,new F(o,l,a,t.opacity)}function Zo(t,e,n,i){return arguments.length===1?Jn(t):new F(t,e,n,i??1)}function F(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Te(F,Zo,jn(Pt,{brighter(t){return t=t==null?qt:Math.pow(qt,t),new F(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new F(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new N(fe(t>=240?t-240:t+120,r,i),fe(t,r,i),fe(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new F(vn(this.h),Xt(this.s),Xt(this.l),jt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jt(this.opacity);return`${t===1?"hsl(":"hsla("}${vn(this.h)}, ${Xt(this.s)*100}%, ${Xt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vn(t){return t=(t||0)%360,t<0?t+360:t}function Xt(t){return Math.max(0,Math.min(1,t||0))}function fe(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $n=t=>()=>t;function Go(t,e){return function(n){return t+n*e}}function Ko(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function qo(t){return(t=+t)==1?ti:function(e,n){return n-e?Ko(e,n,t):$n(isNaN(e)?n:e)}}function ti(t,e){var n=e-t;return n?Go(t,n):$n(isNaN(t)?e:t)}const mn=function t(e){var n=qo(e);function i(r,s){var o=n((r=ye(r)).r,(s=ye(s)).r),l=n(r.g,s.g),a=n(r.b,s.b),c=ti(r.opacity,s.opacity);return function(h){return r.r=o(h),r.g=l(h),r.b=a(h),r.opacity=c(h),r+""}}return i.gamma=t,i}(1);function q(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var we=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,de=new RegExp(we.source,"g");function jo(t){return function(){return t}}function Jo(t){return function(e){return t(e)+""}}function $o(t,e){var n=we.lastIndex=de.lastIndex=0,i,r,s,o=-1,l=[],a=[];for(t=t+"",e=e+"";(i=we.exec(t))&&(r=de.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,a.push({i:o,x:q(i,r)})),n=de.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?a[0]?Jo(a[0].x):jo(e):(e=a.length,function(c){for(var h=0,u;h<e;++h)l[(u=a[h]).i]=u.x(c);return l.join("")})}var yn=180/Math.PI,_e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ei(t,e,n,i,r,s){var o,l,a;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),t*i<e*n&&(t=-t,e=-e,a=-a,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*yn,skewX:Math.atan(a)*yn,scaleX:o,scaleY:l}}var Ft;function ta(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_e:ei(e.a,e.b,e.c,e.d,e.e,e.f)}function ea(t){return t==null||(Ft||(Ft=document.createElementNS("http://www.w3.org/2000/svg","g")),Ft.setAttribute("transform",t),!(t=Ft.transform.baseVal.consolidate()))?_e:(t=t.matrix,ei(t.a,t.b,t.c,t.d,t.e,t.f))}function ni(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function s(c,h,u,f,g,m){if(c!==u||h!==f){var A=g.push("translate(",null,e,null,n);m.push({i:A-4,x:q(c,u)},{i:A-2,x:q(h,f)})}else(u||f)&&g.push("translate("+u+e+f+n)}function o(c,h,u,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:u.push(r(u)+"rotate(",null,i)-2,x:q(c,h)})):h&&u.push(r(u)+"rotate("+h+i)}function l(c,h,u,f){c!==h?f.push({i:u.push(r(u)+"skewX(",null,i)-2,x:q(c,h)}):h&&u.push(r(u)+"skewX("+h+i)}function a(c,h,u,f,g,m){if(c!==u||h!==f){var A=g.push(r(g)+"scale(",null,",",null,")");m.push({i:A-4,x:q(c,u)},{i:A-2,x:q(h,f)})}else(u!==1||f!==1)&&g.push(r(g)+"scale("+u+","+f+")")}return function(c,h){var u=[],f=[];return c=t(c),h=t(h),s(c.translateX,c.translateY,h.translateX,h.translateY,u,f),o(c.rotate,h.rotate,u,f),l(c.skewX,h.skewX,u,f),a(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,f),c=h=null,function(g){for(var m=-1,A=f.length,d;++m<A;)u[(d=f[m]).i]=d.x(g);return u.join("")}}}var na=ni(ta,"px, ","px)","deg)"),ia=ni(ea,", ",")",")"),vt=0,Et=0,wt=0,ii=1e3,Jt,bt,$t=0,at=0,oe=0,St=typeof performance=="object"&&performance.now?performance:Date,ri=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function He(){return at||(ri(ra),at=St.now()+oe)}function ra(){at=0}function te(){this._call=this._time=this._next=null}te.prototype=Pe.prototype={constructor:te,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?He():+n)+(e==null?0:+e),!this._next&&bt!==this&&(bt?bt._next=this:Jt=this,bt=this),this._call=t,this._time=n,xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,xe())}};function Pe(t,e,n){var i=new te;return i.restart(t,e,n),i}function sa(){He(),++vt;for(var t=Jt,e;t;)(e=at-t._time)>=0&&t._call.call(void 0,e),t=t._next;--vt}function wn(){at=($t=St.now())+oe,vt=Et=0;try{sa()}finally{vt=0,aa(),at=0}}function oa(){var t=St.now(),e=t-$t;e>ii&&(oe-=e,$t=t)}function aa(){for(var t,e=Jt,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Jt=n);bt=t,xe(i)}function xe(t){if(!vt){Et&&(Et=clearTimeout(Et));var e=t-at;e>24?(t<1/0&&(Et=setTimeout(wn,t-St.now()-oe)),wt&&(wt=clearInterval(wt))):(wt||($t=St.now(),wt=setInterval(oa,ii)),vt=1,ri(wn))}}function _n(t,e,n){var i=new te;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var la=ke("start","end","cancel","interrupt"),ca=[],si=0,xn=1,Ee=2,zt=3,En=4,be=5,Dt=6;function ae(t,e,n,i,r,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ha(t,n,{name:e,index:i,group:r,on:la,tween:ca,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:si})}function Ve(t,e){var n=O(t,e);if(n.state>si)throw new Error("too late; already scheduled");return n}function Y(t,e){var n=O(t,e);if(n.state>zt)throw new Error("too late; already running");return n}function O(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ha(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=Pe(s,0,n.time);function s(c){n.state=xn,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,u,f,g;if(n.state!==xn)return a();for(h in i)if(g=i[h],g.name===n.name){if(g.state===zt)return _n(o);g.state===En?(g.state=Dt,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete i[h]):+h<e&&(g.state=Dt,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete i[h])}if(_n(function(){n.state===zt&&(n.state=En,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Ee,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ee){for(n.state=zt,r=new Array(f=n.tween.length),h=0,u=-1;h<f;++h)(g=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=g);r.length=u+1}}function l(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=be,1),u=-1,f=r.length;++u<f;)r[u].call(t,h);n.state===be&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Dt,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function ua(t,e){var n=t.__transition,i,r,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){s=!1;continue}r=i.state>Ee&&i.state<be,i.state=Dt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}s&&delete t.__transition}}function fa(t){return this.each(function(){ua(this,t)})}function da(t,e){var n,i;return function(){var r=Y(this,t),s=r.tween;if(s!==n){i=n=s;for(var o=0,l=i.length;o<l;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function Aa(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=Y(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var l={name:e,value:n},a=0,c=r.length;a<c;++a)if(r[a].name===e){r[a]=l;break}a===c&&r.push(l)}s.tween=r}}function ga(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=O(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?da:Aa)(n,t,e))}function Xe(t,e,n){var i=t._id;return t.each(function(){var r=Y(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return O(r,i).value[e]}}function oi(t,e){var n;return(typeof e=="number"?q:e instanceof Lt?mn:(n=Lt(e))?(e=n,mn):$o)(t,e)}function pa(t){return function(){this.removeAttribute(t)}}function va(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ma(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttribute(t);return o===r?null:o===i?s:s=e(i=o,n)}}function ya(t,e,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?s:s=e(i=o,n)}}function wa(t,e,n){var i,r,s;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),a=l+"",o===a?null:o===i&&a===r?s:(r=a,s=e(i=o,l)))}}function _a(t,e,n){var i,r,s;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),a=l+"",o===a?null:o===i&&a===r?s:(r=a,s=e(i=o,l)))}}function xa(t,e){var n=se(t),i=n==="transform"?ia:oi;return this.attrTween(t,typeof e=="function"?(n.local?_a:wa)(n,i,Xe(this,"attr."+t,e)):e==null?(n.local?va:pa)(n):(n.local?ya:ma)(n,i,e))}function Ea(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ba(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ia(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ba(t,s)),n}return r._value=e,r}function Ca(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Ea(t,s)),n}return r._value=e,r}function Ba(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=se(t);return this.tween(n,(i.local?Ia:Ca)(i,e))}function Ra(t,e){return function(){Ve(this,t).delay=+e.apply(this,arguments)}}function Qa(t,e){return e=+e,function(){Ve(this,t).delay=e}}function Na(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ra:Qa)(e,t)):O(this.node(),e).delay}function Ma(t,e){return function(){Y(this,t).duration=+e.apply(this,arguments)}}function ka(t,e){return e=+e,function(){Y(this,t).duration=e}}function La(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ma:ka)(e,t)):O(this.node(),e).duration}function Sa(t,e){if(typeof e!="function")throw new Error;return function(){Y(this,t).ease=e}}function Ta(t){var e=this._id;return arguments.length?this.each(Sa(e,t)):O(this.node(),e).ease}function Ha(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Y(this,t).ease=n}}function Pa(t){if(typeof t!="function")throw new Error;return this.each(Ha(this._id,t))}function Va(t){typeof t!="function"&&(t=On(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],o=s.length,l=i[r]=[],a,c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new G(i,this._parents,this._name,this._id)}function Xa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),o=new Array(i),l=0;l<s;++l)for(var a=e[l],c=n[l],h=a.length,u=o[l]=new Array(h),f,g=0;g<h;++g)(f=a[g]||c[g])&&(u[g]=f);for(;l<i;++l)o[l]=e[l];return new G(o,this._parents,this._name,this._id)}function Fa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Oa(t,e,n){var i,r,s=Fa(e)?Ve:Y;return function(){var o=s(this,t),l=o.on;l!==i&&(r=(i=l).copy()).on(e,n),o.on=r}}function Ua(t,e){var n=this._id;return arguments.length<2?O(this.node(),n).on.on(t):this.each(Oa(n,t,e))}function Ya(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function za(){return this.on("end.remove",Ya(this._id))}function Da(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Le(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var l=i[o],a=l.length,c=s[o]=new Array(a),h,u,f=0;f<a;++f)(h=l[f])&&(u=t.call(h,h.__data__,f,l))&&("__data__"in h&&(u.__data__=h.__data__),c[f]=u,ae(c[f],e,n,f,c,O(h,n)));return new G(s,this._parents,e,n)}function Wa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fn(t));for(var i=this._groups,r=i.length,s=[],o=[],l=0;l<r;++l)for(var a=i[l],c=a.length,h,u=0;u<c;++u)if(h=a[u]){for(var f=t.call(h,h.__data__,u,a),g,m=O(h,n),A=0,d=f.length;A<d;++A)(g=f[A])&&ae(g,e,n,A,f,m);s.push(f),o.push(h)}return new G(s,o,e,n)}var Za=Ht.prototype.constructor;function Ga(){return new Za(this._groups,this._parents)}function Ka(t,e){var n,i,r;return function(){var s=pt(this,t),o=(this.style.removeProperty(t),pt(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}function ai(t){return function(){this.style.removeProperty(t)}}function qa(t,e,n){var i,r=n+"",s;return function(){var o=pt(this,t);return o===r?null:o===i?s:s=e(i=o,n)}}function ja(t,e,n){var i,r,s;return function(){var o=pt(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),pt(this,t))),o===a?null:o===i&&a===r?s:(r=a,s=e(i=o,l))}}function Ja(t,e){var n,i,r,s="style."+e,o="end."+s,l;return function(){var a=Y(this,t),c=a.on,h=a.value[s]==null?l||(l=ai(e)):void 0;(c!==n||r!==h)&&(i=(n=c).copy()).on(o,r=h),a.on=i}}function $a(t,e,n){var i=(t+="")=="transform"?na:oi;return e==null?this.styleTween(t,Ka(t,i)).on("end.style."+t,ai(t)):typeof e=="function"?this.styleTween(t,ja(t,i,Xe(this,"style."+t,e))).each(Ja(this._id,t)):this.styleTween(t,qa(t,i,e),n).on("end.style."+t,null)}function tl(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function el(t,e,n){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&tl(t,o,n)),i}return s._value=e,s}function nl(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,el(t,e,n??""))}function il(t){return function(){this.textContent=t}}function rl(t){return function(){var e=t(this);this.textContent=e??""}}function sl(t){return this.tween("text",typeof t=="function"?rl(Xe(this,"text",t)):il(t==null?"":t+""))}function ol(t){return function(e){this.textContent=t.call(this,e)}}function al(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ol(r)),e}return i._value=t,i}function ll(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,al(t))}function cl(){for(var t=this._name,e=this._id,n=li(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,a,c=0;c<l;++c)if(a=o[c]){var h=O(a,e);ae(a,t,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new G(i,this._parents,t,n)}function hl(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var l={value:o},a={value:function(){--r===0&&s()}};n.each(function(){var c=Y(this,i),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),c.on=e}),r===0&&s()})}var ul=0;function G(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function li(){return++ul}var z=Ht.prototype;G.prototype={constructor:G,select:Da,selectAll:Wa,selectChild:z.selectChild,selectChildren:z.selectChildren,filter:Va,merge:Xa,selection:Ga,transition:cl,call:z.call,nodes:z.nodes,node:z.node,size:z.size,empty:z.empty,each:z.each,on:Ua,attr:xa,attrTween:Ba,style:$a,styleTween:nl,text:sl,textTween:ll,remove:za,tween:ga,delay:Na,duration:La,ease:Ta,easeVarying:Pa,end:hl,[Symbol.iterator]:z[Symbol.iterator]};function fl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var dl={time:null,delay:0,duration:250,ease:fl};function Al(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function gl(t){var e,n;t instanceof G?(e=t._id,t=t._name):(e=li(),(n=dl).time=He(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,a,c=0;c<l;++c)(a=o[c])&&ae(a,t,e,c,o,n||Al(a,e));return new G(i,this._parents,t,e)}Ht.prototype.interrupt=fa;Ht.prototype.transition=gl;const Ie=Math.PI,Ce=2*Ie,et=1e-6,pl=Ce-et;function ci(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vl(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ci;const n=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class ml{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ci:vl(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,s,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,i,r,s){if(e=+e,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,a=i-e,c=r-n,h=o-e,u=l-n,f=h*h+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>et)if(!(Math.abs(u*a-c*h)>et)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=i-o,m=r-l,A=a*a+c*c,d=g*g+m*m,v=Math.sqrt(A),y=Math.sqrt(f),_=s*Math.tan((Ie-Math.acos((A+f-d)/(2*v*y)))/2),w=_/y,x=_/v;Math.abs(w-1)>et&&this._append`L${e+w*h},${n+w*u}`,this._append`A${s},${s},0,0,${+(u*g>h*m)},${this._x1=e+x*a},${this._y1=n+x*c}`}}arc(e,n,i,r,s,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),a=i*Math.sin(r),c=e+l,h=n+a,u=1^o,f=o?r-s:s-r;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>et||Math.abs(this._y1-h)>et)&&this._append`L${c},${h}`,i&&(f<0&&(f=f%Ce+Ce),f>pl?this._append`A${i},${i},0,1,${u},${e-l},${n-a}A${i},${i},0,1,${u},${this._x1=c},${this._y1=h}`:f>et&&this._append`A${i},${i},0,${+(f>=Ie)},${u},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}const yl=1664525,wl=1013904223,bn=4294967296;function _l(){let t=1;return()=>(t=(yl*t+wl)%bn)/bn}var xl=10,El=Math.PI*(3-Math.sqrt(5));function bl(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),s=0,o=.6,l=new Map,a=Pe(u),c=ke("tick","end"),h=_l();t==null&&(t=[]);function u(){f(),c.call("tick",e),n<i&&(a.stop(),c.call("end",e))}function f(A){var d,v=t.length,y;A===void 0&&(A=1);for(var _=0;_<A;++_)for(n+=(s-n)*r,l.forEach(function(w){w(n)}),d=0;d<v;++d)y=t[d],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return e}function g(){for(var A=0,d=t.length,v;A<d;++A){if(v=t[A],v.index=A,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=xl*Math.sqrt(.5+A),_=A*El;v.x=y*Math.cos(_),v.y=y*Math.sin(_)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function m(A){return A.initialize&&A.initialize(t,h),A}return g(),e={tick:f,restart:function(){return a.restart(u),e},stop:function(){return a.stop(),e},nodes:function(A){return arguments.length?(t=A,g(),l.forEach(m),e):t},alpha:function(A){return arguments.length?(n=+A,e):n},alphaMin:function(A){return arguments.length?(i=+A,e):i},alphaDecay:function(A){return arguments.length?(r=+A,e):+r},alphaTarget:function(A){return arguments.length?(s=+A,e):s},velocityDecay:function(A){return arguments.length?(o=1-A,e):1-o},randomSource:function(A){return arguments.length?(h=A,l.forEach(m),e):h},force:function(A,d){return arguments.length>1?(d==null?l.delete(A):l.set(A,m(d)),e):l.get(A)},find:function(A,d,v){var y=0,_=t.length,w,x,R,M,k;for(v==null?v=1/0:v*=v,y=0;y<_;++y)M=t[y],w=A-M.x,x=d-M.y,R=w*w+x*x,R<v&&(k=M,v=R);return k},on:function(A,d){return arguments.length>1?(c.on(A,d),e):c.on(A)}}}function ft(t){return function(){return t}}const In=1e-12;function Il(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new ml(e)}function Cl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hi(t){this._context=t}hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bl(t){return new hi(t)}function Rl(t){return t[0]}function Ql(t){return t[1]}function Nl(t,e){var n=ft(!0),i=null,r=Bl,s=null,o=Il(l);t=typeof t=="function"?t:t===void 0?Rl:ft(t),e=typeof e=="function"?e:e===void 0?Ql:ft(e);function l(a){var c,h=(a=Cl(a)).length,u,f=!1,g;for(i==null&&(s=r(g=o())),c=0;c<=h;++c)!(c<h&&n(u=a[c],c,a))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(u,c,a),+e(u,c,a));if(g)return s=null,g+""||null}return l.x=function(a){return arguments.length?(t=typeof a=="function"?a:ft(+a),l):t},l.y=function(a){return arguments.length?(e=typeof a=="function"?a:ft(+a),l):e},l.defined=function(a){return arguments.length?(n=typeof a=="function"?a:ft(!!a),l):n},l.curve=function(a){return arguments.length?(r=a,i!=null&&(s=r(i)),l):r},l.context=function(a){return arguments.length?(a==null?i=s=null:s=r(i=a),l):i},l}function Be(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Fe(t,e){this._context=t,this._k=(1-e)/6}Fe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Be(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Be(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Fe(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Oe(t,e){this._context=t,this._k=(1-e)/6}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Be(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Oe(i,e)}return n.tension=function(i){return t(+i)},n})(0);function ui(t,e,n){var i=t._x1,r=t._y1,s=t._x2,o=t._y2;if(t._l01_a>In){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,a=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/a,r=(r*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/a}if(t._l23_a>In){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/h,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,r,s,o,t._x2,t._y2)}function fi(t,e){this._context=t,this._alpha=e}fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ui(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return e?new fi(i,e):new Fe(i,0)}return n.alpha=function(i){return t(+i)},n})(.5);function di(t,e){this._context=t,this._alpha=e}di.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ui(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ml=function t(e){function n(i){return e?new di(i,e):new Oe(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function It(t,e,n){this.k=t,this.x=e,this.y=n}It.prototype={constructor:It,scale:function(t){return t===1?this:new It(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new It(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};It.prototype;const kl=1,Ll=0,Ot=4,Cn=14,Ut=12,Sl=1.2,Tl=.1,_t=6.5,Hl=1,Pl=12;function Vl(t,e,n,i){let r=!0,s=!1,o=Array.from(Array(t.width),(p,I)=>n[I%n.length]).toReversed();const l=new Dr(t.pad(Ll,Ot,0),o),a=new Ur(l),c=new qr(a.cn),h=To("#simulation");h.attr("viewBox",`${-Ut*2} 0 ${Ut*(o.length+1)*2} ${Cn*l.height}`);const u=e.toReversed();function f(p){return p<Ot||p>=l.height-Ot?"#00000055":i[u[(p-Ot)%u.length]]}function g(p){let I=Array.from(Array(p.width),(L,P)=>P*Ut),ct=0;for(let L=0;L<o.length;L++)if(o[L]==1)for(let P=ct*2;P<p.width;P++)I[P]+=2*Ut;else ct++;return p.contactNodes.forEach((L,P)=>{const K=P%p.width,De=(P-K)/p.width;L.i=K,L.j=De,L.x=I[K],L.y=(p.height-De)*Cn}),p.contactNodes}const m=g(c),A=c.makeNice(),d=c.yarnPathToLinks(),v=h.append("g"),y=h.append("g"),_=h.append("g");function w(p){return m[p.source].st=="K"&&m[p.target].st=="K"?p.linkType=="LHLL"||p.linkType=="FLFH"?"front":"back":m[p.source].st=="P"&&m[p.target].st=="P"?p.linkType=="LHLL"||p.linkType=="FLFH"?"back":"front":"mid"}const x=v.attr("stroke-width",_t).attr("stroke-linecap","round").selectAll().data(d).join("path").filter(p=>w(p)=="back").attr("data-link",p=>p.linkType).attr("fill","none").attr("stroke",p=>f(p.row)),R=y.attr("filter","brightness(0.9)").attr("stroke-width",_t).attr("stroke-linecap","round").selectAll().data(d).join("path").filter(p=>w(p)=="mid").attr("data-link",p=>p.linkType).attr("fill","none").attr("stroke",p=>f(p.row)),M=_.attr("stroke-width",_t).attr("stroke-linecap","round").selectAll().data(d.toReversed()).join("path").filter(p=>w(p)=="front").attr("data-link",p=>p.linkType).attr("fill","none").attr("stroke",p=>f(p.row));function k(p,I,ct){if(p.index===I.index)return[0,0];const L=p.x-I.x,P=p.y-I.y,K=Sl*Math.sqrt(L**2+P**2);return ct?[-P/K,L/K]:[P/K,-L/K]}function Q(){A[0].normal=k(m[A[0].cnIndex],m[A[1].cnIndex],!0);for(let p=1;p<A.length-1;p++){let I;A[p].cnType=="FH"||A[p].cnType=="LH"?A[p].row%2==0?I=!0:I=!1:A[p].row%2==0?I=!1:I=!0,A[p].normal=k(m[A[p-1].cnIndex],m[A[p+1].cnIndex],I)}A.at(-1).normal=k(m[A.at(-2).cnIndex],m[A.at(-1).cnIndex],!0)}const $=Nl().x(p=>m[p.cnIndex].x+_t/2*p.normal[0]).y(p=>m[p.cnIndex].y+_t/2*p.normal[1]).curve(Ml);function le(p){const I=p.index;if(I==0||I>d.length-3)return`M ${p.source.x} ${p.source.y} ${p.target.x} ${p.target.y}`;const ct=[A[I-1],A[I],A[I+1],A[I+2]];return $(ct)}function Ye(){Q(),M.attr("d",le),R.attr("d",le),x.attr("d",le)}Ye(),ze();function Ii(){h.selectAll("*").remove()}function Ci(){s||(bl(m).force("link",Jr(d).strength(Tl).iterations(kl).distance(p=>p.linkType=="FLFH"||p.linkType=="LHLL"?Pl:Math.abs(p.source.x-p.target.x)*Hl)).on("tick",Ye),s=!0)}function ze(){y.raise(),_.raise(),v.attr("filter","brightness(0.7)"),_.attr("filter","none"),h.attr("transform","scale(-1,1)")}function Bi(){y.raise(),v.raise(),_.attr("filter","brightness(0.7)"),v.attr("filter","none"),h.attr("transform",null)}function Ri(){r=!r,r?ze():Bi()}return{clear:Ii,relax:Ci,flip:Ri}}const Ai=["#643f58","#f7f7f7","#5d6689","#d279a4"],gi={pixels:[1,0,1,0],width:4,height:1},pi={pixels:[0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0],width:4,height:8},vi={pixels:[2,2,1,1,2,2,3,3],width:1,height:8},mi={yarnPalette:Ai,needles:gi,repeat:pi,yarns:vi},Xl=Object.freeze(Object.defineProperty({__proto__:null,default:mi,needles:gi,repeat:pi,yarnPalette:Ai,yarns:vi},Symbol.toStringTag,{value:"Module"})),yi=Object.assign({"/patterns/basic.json":()=>S(()=>import("./basic-6268b6f7.js"),[]),"/patterns/basketWeaveStripes.json":()=>S(()=>import("./basketWeaveStripes-8c309aa3.js"),[]),"/patterns/concentricSquares.json":()=>S(()=>import("./concentricSquares-476db2c6.js"),[]),"/patterns/hex_quilt.json":()=>S(()=>import("./hex_quilt-eb4d1c53.js"),[]),"/patterns/ladders.json":()=>S(()=>import("./ladders-d048716f.js"),[]),"/patterns/multicolorEyes.json":()=>S(()=>import("./multicolorEyes-aa8a79ac.js"),[]),"/patterns/ovals.json":()=>S(()=>import("./ovals-c2df16b5.js"),[]),"/patterns/pyramids.json":()=>S(()=>import("./pyramids-083b87d0.js"),[]),"/patterns/scarabs.json":()=>S(()=>import("./scarabs-25d9deaa.js"),[]),"/patterns/test.json":()=>S(()=>Promise.resolve().then(()=>Xl),void 0),"/patterns/verticalLines.json":()=>S(()=>import("./verticalLines-beaea1e2.js"),[]),"/patterns/vertical_tuck_stripes.json":()=>S(()=>import("./vertical_tuck_stripes-f105e950.js"),[]),"/patterns/zigzag.json":()=>S(()=>import("./zigzag-807868a6.js"),[])});let T,V,J,st,Ae,wi,_i,E={scale:30,updateSim:!1};function xi(t){E={...E,...t},E.updateSim=!0}function Fl(){re(document.getElementById("preview").toDataURL("image/png"),"chart.png")}function Ol(){re(pr(T.state.bitmap,V.state.bitmap.pixels,V.state.palette).src)}function Ul(){const t=`SilverKnit
`+T.state.bitmap.make2d().map(e=>e.map(n=>n==0||n==1?7:8).join("")).join(`
`);re("data:text/plain;charset=utf-8,"+encodeURIComponent(t),"pattern.txt")}function Yl(){const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({yarnPalette:E.yarnPalette,needles:J.state.bitmap.toJSON(),repeat:T.state.bitmap.toJSON(),yarns:V.state.bitmap.vMirror().toJSON()}));re(t,"pattern.json")}function zl(t){let e=t.target.files[0];const n=new FileReader;n.readAsText(e),n.onload=()=>{Ei(JSON.parse(n.result))}}function Dl(){let t=document.createElement("input");t.setAttribute("type","file"),t.style.display="none",document.body.appendChild(t),t.click(),t.onchange=zl,document.body.removeChild(t)}function Ei(t){xi(t),ee(),Ct(),T.dispatch({bitmap:C.fromJSON(t.repeat)}),J.dispatch({bitmap:C.fromJSON(t.needles)}),V.dispatch({bitmap:C.fromJSON(t.yarns).vMirror()}),V.dispatch({palette:t.yarnPalette}),V.dispatch({scale}),J.dispatch({scale}),st.dispatch({scale}),E.updateSim=!0}function Wl(t){yi[t]().then(e=>Ei(e))}function Zl(){return X`
    <div id="site-content">
      <div id="site-title" style="grid-area: title;">
        <span>knitscape</span>
      </div>
      <div id="left-controls" style="grid-area: lcontrols;">
        <button @click=${Dl}><i class="fa-solid fa-upload"></i></button>

        <div class="dropdown-container">
          <i class="fa-solid fa-download"></i>
          <div class="dropdown">
            <div @click=${()=>Yl()}>Pattern JSON</div>
            <div @click=${()=>Fl()}>Chart PNG</div>
            <div @click=${()=>Ol()}>Windows BMP (Silver Knit)</div>
            <div @click=${()=>Ul()}>TXT (Silver Knit)</div>
          </div>
        </div>
        <div class="dropdown-container">
          <i class="fa-solid fa-book"></i>
          <div class="dropdown">
            ${Object.entries(yi).map(([t,e])=>X`<div class="dropdown-item ex" @click=${()=>Wl(t)}>
                  ${t.split("/").at(-1).split(".")[0]}
                </div>`)}
          </div>
        </div>
        <button
          @click=${()=>{E.scale=E.scale+devicePixelRatio/(devicePixelRatio-1),ee()}}>
          <i class="fa-solid fa-magnifying-glass-plus"></i>
        </button>
        <button
          @click=${()=>{E.scale=E.scale-devicePixelRatio/(devicePixelRatio-1),ee()}}>
          <i class="fa-solid fa-magnifying-glass-minus"></i>
        </button>
        <div id="repeat-tools"></div>
        <div id="repeat-palette"></div>
        <div id="repeat-height"></div>
        <div id="repeat-width"></div>
      </div>
      <div class="lgutter" style="grid-area: lgutter;">
        <div class="preview"></div>
        <div class="repeat"></div>
      </div>
      <div
        class="pattern-container"
        id="pattern-container"
        style="grid-area: pattern;">
        <canvas id="preview"></canvas>
        <canvas id="preview-symbols"></canvas>
        <canvas id="preview-needles"></canvas>

        <canvas id="repeat"></canvas>
        <canvas id="pattern-highlight"></canvas>
        <canvas id="pattern-grid" style="image-rendering:pixelated"></canvas>
      </div>

      <div class="bgutter" style="grid-area: bgutter;">
        <div class="preview"></div>
        <div class="repeat"></div>
      </div>

      <div id="color-change-container" style="grid-area: colors;">
        <div id="height-dragger">
          <div id="color-dragger" class="dragger vertical grab">
            <i class="fa-solid fa-grip fa-xs"></i>
          </div>
          <canvas id="color-change-editor" height="25" width="25"></canvas>
          <canvas
            id="color-change-grid"
            height="25"
            width="25"
            style="image-rendering:pixelated"></canvas>
        </div>
        <div id="color-controls">
          <div id="yarn-palette"></div>
        </div>
      </div>

      <div id="needle-container" style="grid-area: needles;">
        <canvas id="needle-editor" height="25" width="25"></canvas>
        <div id="needle-dragger" class="dragger horizontal grab">
          <i class="fa-solid fa-grip-vertical fa-xs"></i>
        </div>
      </div>

      <div id="sim-container" style="grid-area: sim">
        <div id="sim-controls" style="grid-area: simcontrols">
          <button @click=${()=>wi()}>relax</button>
          <button @click=${()=>_i()}>flip</button>
        </div>
        <svg id="simulation"></svg>
      </div>
    </div>
  `}function Ct(){const{colorLayer:t,symbolLayer:e}=bi(C.fromJSON(T.state.bitmap),V.state.bitmap.vMirror().pixels);st.dispatch({bitmap:t,symbolMap:e,scale:E.scale/devicePixelRatio,needles:Array.from(J.state.bitmap.pixels)}),E.updateSim=!0}function ee(){const t=document.getElementById("pattern-container").getBoundingClientRect(),e=t.width*devicePixelRatio,n=t.height*devicePixelRatio,i=E.scale;E.previewX=Math.floor(e/i)-1,E.previewY=Math.floor(n/i);const r=i/devicePixelRatio;T.dispatch({scale:r}),V.dispatch({scale:r}),st.dispatch({scale:r}),J.dispatch({scale:r}),Ct(),Ue()}function bi(t,e){let n=E.previewX,i=E.previewY,r=C.fromTile(n,i,t.vMirror()),s=[],o=[];for(let c=0;c<i;c++)for(let h=0;h<n;h++)s.push(e[c%e.length]),o.push(r.pixel(h,c));let l=new C(n,i,s),a=new C(n,i,o);return{colorLayer:l.vMirror(),symbolLayer:a.vMirror()}}function Ue(){E.updateSim&&(E.updateSim=!1,Ae&&Ae(),{clear:Ae,relax:wi,flip:_i}=Vl(st.state.symbolMap,V.state.bitmap.pixels,Array.from(J.state.bitmap.pixels),E.yarnPalette))}window.onmouseup=function(){setTimeout(()=>Ue(),30)};async function Gl(){xi(mi),lt(Zl(),document.body);let t=document.getElementById("repeat"),e=document.getElementById("color-change-editor"),n=document.getElementById("needle-editor"),i=bi(C.fromJSON(E.repeat),E.yarns.pixels);T=await xr(E,t),V=Rr(E,e),J=await Mr(E,n),st=await Vr(E,i),T.addEffect("bitmap",Ct),J.addEffect("bitmap",Ct),V.addEffect("bitmap",Ct),V.addEffect("palette",({palette:r})=>{E.yarnPalette=r,E.updateSim=!0,st.dispatch({palette:r})}),st.addEffect("pos",({bitmap:r,pos:s})=>{if(s.x>-1||s.y>-1){let o=s.x%T.state.bitmap.width,l=T.state.bitmap.height-(r.height-s.y)%T.state.bitmap.height;l=l==T.state.bitmap.height?0:l,T.dispatch({pos:{x:o,y:l}})}}),ee(),Ue()}window.onload=Gl;
